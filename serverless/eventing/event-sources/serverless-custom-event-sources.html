

<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  
  
  <title>Custom event sources - Event sources | Eventing | Serverless </title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/search.css" rel="stylesheet" media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/autumn.css" rel="stylesheet"  media="screen"/>
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png"/>
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css"/>
  <link href="https://assets.openshift.net/content/osh-nav-footer.css" rel="stylesheet" type="text/css" media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/docs.css" rel="stylesheet"  media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/print.css" rel="stylesheet" type="text/css" media="print"/>
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">

  <!-- Adobe DTM -->
  <script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <!-- End Adobe DTM -->

  <script id="trustarc" src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">

</head>

<body onload="selectVersion('');">
  
<nav id="main">
  <div class="container">
    <div class="row">
      <div class="navbar navbar-default navbar-openshift" role="navigation">
        <div class="navbar-header">
            <a href="#nav-main" class="dropdown-toggle navbar-menu-toggle hidden visible-xs" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          <a class="navbar-brand" href="/"></a>
        </div>
        <div id="nav-main" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="products" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                Products <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-column flex-md-row">
                  <div class="col-xs-12 col-sm-3">
                    <h3>Overview</h3>
                    <ul class="nav flex-column">
                      <li><a target="_blank" href="https://www.openshift.com/products/features/">Features</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/products/pricing/">Pricing</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-9">
                    <h3>Featured Products</h3>
                    <ul class="nav">
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/container-platform/">Red Hat OpenShift Container&nbsp;Platform</a>
                        <p class="d-none d-md-block">Build, deploy and manage your applications across cloud- and on-premise infrastructure</p>
                      </li>
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/dedicated/">Red Hat OpenShift Dedicated</a>
                        <p class="d-none d-md-block">Single-tenant, high-availability Kubernetes clusters in the public cloud</p>
                      </li>

                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/online/">Red Hat OpenShift Online</a>
                        <p class="d-none d-md-block">The fastest way for developers to build, host and scale applications in the public cloud</p>
                      </li>

                      <li class="nav-item">
                        <a target="_blank" href="https://www.openshift.com/products/">All products <span class="fa fa-angle-right"></span></a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li id="learn" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Learn <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-md-nowrap">
                  <div class="col-xs-12 col-sm-6">
                    <h3>Learn</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/what-is-openshift/">What is OpenShift</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/get-started/">Get started</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/partners/">Partners</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/success-stories/">Customer success stories</a></li>
                      <li><a target="_blank" href="https://blog.openshift.com">Blog</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/resources/">Resources</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h3>Technology Topics</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/knative/">Knative</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/security/">Security</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/kubernetes/">Kubernetes</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/service-brokers/">Service Brokers</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://commons.openshift.org">OpenShift Commons</a></li>
                <li><a target="_blank" href="https://www.okd.io">Open Source (OKD)</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/startups/">Startups</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/grants/">Grants</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Support <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://help.openshift.com">Help Center</a></li>
                <li><a href="https://docs.openshift.com">OpenShift Docs</a></li>
              </ul>
            </li>

            <li><a target="_blank" class="nav-sign-up" href="https://www.openshift.com/trial/">Free Trial</a></li>

            <li><a target="_blank" href="https://console.redhat.com/openshift" class="nav-sign-in">Log In <span class="fa fa-angle-right"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

  
  <div class="container">
    <button id="hc-open-btn" class="open-btn-sm" onclick="openNav()" aria-label="Open"><span class="fa fa-bars" /></button>
    <ol class="breadcrumb hide-for-print">
      

      

      

      

      

      <li class="sitename">
        <a href="/">
          Documentation</a>
      </li>
      <li class="hidden-xs active">
        
          
              
                <a href="../../about/serverless-release-notes.html">Serverless </a>
              
        
        
      </li>
      <li class="hidden-xs active">
        <a href="../../eventing/knative-eventing.html">Eventing</a>
      </li>
      <li class="hidden-xs active"><a href="../../eventing/event-sources/knative-event-sources.html">Event sources</a></li>
      
      <li class="hidden-xs active">
        Custom event sources
      </li>
      
      <span text-align="right" style="float: right !important">
        <a href="https://github.com/openshift/openshift-docs/commits/main/eventing/event-sources/serverless-custom-event-sources.adoc"><span class="material-icons-outlined" title="Page history">history</span></a>
        
        <a href="https://issues.redhat.com/secure/CreateIssueDetails!init.jspa?pid=12332330&issuetype=1&components=12367614&priority=4&summary=Issue+in+file+eventing/event-sources/serverless-custom-event-sources.adoc">
          <span class="material-icons-outlined" title="Open an issue">bug_report</span>
        </a>
        <a href="javascript: void(0);" onclick="window.print()"><span class="material-icons-outlined" title="Print page (Save as PDF)">picture_as_pdf</span></a>
        
        
      </span>
      
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas hide-for-print">
        <div class="row-fluid">
          <div id="btn-close">
            <button id="hc-close-btn" onclick="closeNav()" class="close-btn-sm" aria-label="close"><span class="fa fa-times" /></button>
          </div>
          <div id="hc-search">
            <input id="hc-search-input" type="text" aria-label="search">
            <button id="hc-search-btn" aria-label="search"><span class="fa fa-search" /></button>
          </div>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0"><span id="tgSpan0" class="fa fa-angle-right"></span>About Serverless</a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../../about/serverless-release-notes.html">Release notes</a></li>
            <li><a class="" href="../../about/about-serverless.html">Serverless overview</a></li>
            <li><a class="" href="../../about/about-knative-serving.html">Knative Serving overview</a></li>
            <li><a class="" href="../../about/about-knative-eventing.html">Knative Eventing overview</a></li>
            <li><a class="" href="../../about/serverless-functions-about.html">Serverless Functions overview</a></li>
            <li><a class="" href="../../about/serverless-support.html">Serverless support</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1"><span id="tgSpan1" class="fa fa-angle-right"></span>Installing Serverless</a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../../install/preparing-serverless-install.html">Preparing to install OpenShift Serverless</a></li>
            <li><a class="" href="../../install/install-serverless-operator.html">Installing the Serverless Operator</a></li>
            <li><a class="" href="../../install/installing-kn.html">Installing the Knative CLI</a></li>
            <li><a class="" href="../../install/installing-knative-serving.html">Installing Knative Serving</a></li>
            <li><a class="" href="../../install/installing-knative-eventing.html">Installing Knative Eventing</a></li>
            <li><a class="" href="../../install/serverless-kafka-admin.html">Configuring Knative Kafka</a></li>
            <li><a class="" href="../../install/configuring-serverless-functions.html">Configuring Serverless Functions</a></li>
            <li><a class="" href="../../install/serverless-upgrades.html">Serverless upgrades</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2"><span id="tgSpan2" class="fa fa-angle-right"></span>Serving</a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-0"><span id="sgSpan-2-0" class="fa fa-caret-right"></span>&nbsp;Getting started with Knative Serving</a>
              <ul id="topicSubGroup-2-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../knative-serving/getting-started/serverless-applications.html">Creating Serverless applications</a></li>
                  <li><a class="" href="../../knative-serving/getting-started/verifying-application-deployment.html">Verifying application deployment</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-1"><span id="sgSpan-2-1" class="fa fa-caret-right"></span>&nbsp;Autoscaling</a>
              <ul id="topicSubGroup-2-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../knative-serving/autoscaling/serverless-autoscaling-developer.html">Autoscaling overview</a></li>
                  <li><a class="" href="../../knative-serving/autoscaling/serverless-autoscaling-developer-scale-bounds.html">Scale bounds</a></li>
                  <li><a class="" href="../../knative-serving/autoscaling/serverless-concurrency.html">Concurrency</a></li>
                  <li><a class="" href="../../knative-serving/autoscaling/serverless-autoscaling-scale-to-zero.html">Scale-to-zero</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-2"><span id="sgSpan-2-2" class="fa fa-caret-right"></span>&nbsp;Configuring Serverless applications</a>
              <ul id="topicSubGroup-2-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../knative-serving/config-applications/overriding-config-serving.html">Overriding system deployment configurations</a></li>
                  <li><a class="" href="../../knative-serving/config-applications/multi-container-support-for-serving.html">Multi-container support</a></li>
                  <li><a class="" href="../../knative-serving/config-applications/empty-dir.html">EmptyDir volumes</a></li>
                  <li><a class="" href="../../knative-serving/config-applications/pvcs-for-serving.html">Persistent Volume Claims</a></li>
                  <li><a class="" href="../../knative-serving/config-applications/init-containers.html">Init containers</a></li>
                  <li><a class="" href="../../knative-serving/config-applications/resolving-image-tags-to-digests.html">Resolving image tags to digests</a></li>
                  <li><a class="" href="../../knative-serving/config-applications/serverless-config-tls.html">Configuring TLS authentication</a></li>
                  <li><a class="" href="../../knative-serving/config-applications/restrictive-network-policies.html">Restrictive network policies</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-3"><span id="sgSpan-2-3" class="fa fa-caret-right"></span>&nbsp;Traffic splitting</a>
              <ul id="topicSubGroup-2-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../knative-serving/traffic-splitting/traffic-splitting-overview.html">Traffic splitting overview</a></li>
                  <li><a class="" href="../../knative-serving/traffic-splitting/traffic-spec-examples.html">Traffic spec examples</a></li>
                  <li><a class="" href="../../knative-serving/traffic-splitting/traffic-splitting-using-cli.html">Traffic splitting using the CLI</a></li>
                  <li><a class="" href="../../knative-serving/traffic-splitting/traffic-splitting-flags.html">CLI flags for traffic splitting</a></li>
                  <li><a class="" href="../../knative-serving/traffic-splitting/traffic-splitting-revisions.html">Splitting traffic between revisions</a></li>
                  <li><a class="" href="../../knative-serving/traffic-splitting/traffic-splitting-blue-green.html">Reroute traffic using blue-green strategy</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-4"><span id="sgSpan-2-4" class="fa fa-caret-right"></span>&nbsp;External and Ingress routing</a>
              <ul id="topicSubGroup-2-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../knative-serving/external-ingress-routing/routing-overview.html">Routing overview</a></li>
                  <li><a class="" href="../../knative-serving/external-ingress-routing/customize-labels-annotations-routes.html">Customizing labels and annotations</a></li>
                  <li><a class="" href="../../knative-serving/external-ingress-routing/configuring-service-routes.html">Configuring routes for Knative services</a></li>
                  <li><a class="" href="../../knative-serving/external-ingress-routing/https-redirect-global.html">Global HTTPS redirection</a></li>
                  <li><a class="" href="../../knative-serving/external-ingress-routing/url-scheme-external-routes.html">URL scheme for external routes</a></li>
                  <li><a class="" href="../../knative-serving/external-ingress-routing/https-redirect-per-service.html">HTTPS redirection per service</a></li>
                  <li><a class="" href="../../knative-serving/external-ingress-routing/cluster-local-availability.html">Cluster local availability</a></li>
                  <li><a class="" href="../../knative-serving/external-ingress-routing/kourier-gateway-service-type.html">Kourier Gateway service type</a></li>
                  <li><a class="" href="../../knative-serving/external-ingress-routing/using-http2-gRPC.html">Using HTTP2 and gRPC</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-5"><span id="sgSpan-2-5" class="fa fa-caret-right"></span>&nbsp;Configuring access to Knative services</a>
              <ul id="topicSubGroup-2-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../knative-serving/config-access/serverless-ossm-with-kourier-jwt.html">Configuring JSON Web Token authentication for Knative services</a></li>
                  <li><a class="" href="../../knative-serving/config-access/serverless-ossm-v2x-jwt.html">Using JSON Web Token authentication with Service Mesh 2.x</a></li>
                  <li><a class="" href="../../knative-serving/config-access/serverless-ossm-v1x-jwt.html">Using JSON Web Token authentication with Service Mesh 1.x</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-6"><span id="sgSpan-2-6" class="fa fa-caret-right"></span>&nbsp;Configuring custom domains for Knative services</a>
              <ul id="topicSubGroup-2-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../knative-serving/config-custom-domains/serverless-custom-domains.html">Configuring custom domains overview</a></li>
                  <li><a class="" href="../../knative-serving/config-custom-domains/create-domain-mapping.html">Custom domain mapping</a></li>
                  <li><a class="" href="../../knative-serving/config-custom-domains/create-domain-mapping-kn.html">Custom domains using the Knative CLI</a></li>
                  <li><a class="" href="../../knative-serving/config-custom-domains/domain-mapping-odc-developer.html">Domain mapping using the Developer perspective</a></li>
                  <li><a class="" href="../../knative-serving/config-custom-domains/domain-mapping-odc-admin.html">Domain mapping using the Administrator perspective</a></li>
                  <li><a class="" href="../../knative-serving/config-custom-domains/domain-mapping-custom-tls-cert.html">Securing a mapped service using a TLS certificate</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-7"><span id="sgSpan-2-7" class="fa fa-caret-right"></span>&nbsp;Configuring high availability for Knative services</a>
              <ul id="topicSubGroup-2-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../knative-serving/config-ha-services/ha-services-overview.html">High availability for Knative services overview</a></li>
                  <li><a class="" href="../../knative-serving/config-ha-services/ha-replicas-serving.html">High availability for Knative services</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3"><span id="tgSpan3" class="fa fa-angle-down"></span>Eventing</a>
      <ul id="topicGroup3" class="collapse in list-unstyled">
            <li><a class="" href="../../eventing/knative-eventing.html">Knative Eventing</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1"><span id="sgSpan-3-1" class="fa fa-caret-down"></span>&nbsp;Event sources</a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse in">

                  <li><a class="" href="../../eventing/event-sources/knative-event-sources.html">Event sources overview</a></li>
                  <li><a class="" href="../../eventing/event-sources/event-source-admin-perspective.html">Event source in the Administrator perspective</a></li>
                  <li><a class="" href="../../eventing/event-sources/serverless-apiserversource.html">Creating an API server source</a></li>
                  <li><a class="" href="../../eventing/event-sources/serverless-pingsource.html">Creating a ping source</a></li>
                  <li><a class="" href="../../eventing/event-sources/serverless-kafka-developer-source.html">Kafka source</a></li>
                  <li><a class=" active" href="../../eventing/event-sources/serverless-custom-event-sources.html">Custom event sources</a></li>
                  <li><a class="" href="../../eventing/event-sources/serverless-sink-source-odc.html">Connecting an event source to a sink using the Developer perspective</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2"><span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Event sinks</a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../eventing/event-sinks/serverless-event-sinks.html">Event sinks overview</a></li>
                  <li><a class="" href="../../eventing/event-sinks/serverless-kafka-developer-sink.html">Kafka sink</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3"><span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Brokers</a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../eventing/brokers/serverless-brokers.html">Brokers overview</a></li>
                  <li><a class="" href="../../eventing/brokers/serverless-broker-types.html">Broker types</a></li>
                  <li><a class="" href="../../eventing/brokers/serverless-using-brokers.html">Creating brokers</a></li>
                  <li><a class="" href="../../eventing/brokers/serverless-broker-backing-channel-default.html">Configuring the default broker backing channel</a></li>
                  <li><a class="" href="../../eventing/brokers/serverless-global-config-broker-class-default.html">Configuring the default broker class</a></li>
                  <li><a class="" href="../../eventing/brokers/kafka-broker.html">Kafka broker</a></li>
                  <li><a class="" href="../../eventing/brokers/serverless-using-brokers-managing-brokers.html">Managing brokers</a></li>
                  <li><a class="" href="../../eventing/brokers/serverless-event-delivery.html">Event delivery</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-4"><span id="sgSpan-3-4" class="fa fa-caret-right"></span>&nbsp;Triggers</a>
              <ul id="topicSubGroup-3-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../eventing/triggers/serverless-triggers.html">Triggers overview</a></li>
                  <li><a class="" href="../../eventing/triggers/create-triggers.html">Creating triggers</a></li>
                  <li><a class="" href="../../eventing/triggers/list-triggers-cli.html">List triggers from the command line</a></li>
                  <li><a class="" href="../../eventing/triggers/describe-triggers-cli.html">Describe triggers from the command line</a></li>
                  <li><a class="" href="../../eventing/triggers/connect-trigger-sink.html">Connecting a trigger to a sink</a></li>
                  <li><a class="" href="../../eventing/triggers/filter-triggers-cli.html">Filtering triggers from the command line</a></li>
                  <li><a class="" href="../../eventing/triggers/update-triggers-cli.html">Updating triggers from the command line</a></li>
                  <li><a class="" href="../../eventing/triggers/delete-triggers-cli.html">Deleting triggers from the command line</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-5"><span id="sgSpan-3-5" class="fa fa-caret-right"></span>&nbsp;Channels</a>
              <ul id="topicSubGroup-3-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../eventing/channels/serverless-channels.html">Channels and subscriptions</a></li>
                  <li><a class="" href="../../eventing/channels/serverless-creating-channels.html">Creating channels</a></li>
                  <li><a class="" href="../../eventing/channels/serverless-channel-default.html">Default channel implementation</a></li>
                  <li><a class="" href="../../eventing/channels/serverless-kafka-admin-security-channels.html">Security configuration for Knative Kafka channels</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-6"><span id="sgSpan-3-6" class="fa fa-caret-right"></span>&nbsp;Subscriptions</a>
              <ul id="topicSubGroup-3-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../eventing/subscriptions/serverless-subs.html">Creating subscriptions</a></li>
                  <li><a class="" href="../../eventing/subscriptions/serverless-subs-managing.html">Managing subscriptions</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-7"><span id="sgSpan-3-7" class="fa fa-caret-right"></span>&nbsp;Event discovery</a>
              <ul id="topicSubGroup-3-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../eventing/discovery/serverless-listing-event-sources.html">Listing event sources and event source types</a></li>
                  <li><a class="" href="../../eventing/discovery/list-event-source-types-cli.html">Listing event source types from the command line</a></li>
                  <li><a class="" href="../../eventing/discovery/list-event-source-types-odc.html">Listing event source types from the Developer perspective</a></li>
                  <li><a class="" href="../../eventing/discovery/list-event-sources-cli.html">Listing event sources from the command line</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-8"><span id="sgSpan-3-8" class="fa fa-caret-right"></span>&nbsp;Tuning eventing configuration</a>
              <ul id="topicSubGroup-3-8" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../eventing/tuning/overriding-config-eventing.html">Overriding deployment configurations</a></li>
                  <li><a class="" href="../../eventing/tuning/serverless-ha.html">High availability</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4"><span id="tgSpan4" class="fa fa-angle-right"></span>Functions</a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../../functions/serverless-functions-setup.html">Setting up OpenShift Serverless Functions</a></li>
            <li><a class="" href="../../functions/serverless-functions-getting-started.html">Getting started with functions</a></li>
            <li><a class="" href="../../functions/serverless-functions-on-cluster-builds.html">On-cluster function building and deploying</a></li>
            <li><a class="" href="../../functions/serverless-developing-quarkus-functions.html">Developing Quarkus functions</a></li>
            <li><a class="" href="../../functions/serverless-developing-nodejs-functions.html">Developing Node.js functions</a></li>
            <li><a class="" href="../../functions/serverless-developing-typescript-functions.html">Developing TypeScript functions</a></li>
            <li><a class="" href="../../functions/serverless-developing-python-functions.html">Developing Python functions</a></li>
            <li><a class="" href="../../functions/serverless-functions-eventing.html">Using functions with Knative Eventing</a></li>
            <li><a class="" href="../../functions/serverless-functions-yaml.html">Function project configuration in func.yaml</a></li>
            <li><a class="" href="../../functions/serverless-functions-accessing-secrets-configmaps.html">Accessing secrets and config maps from functions</a></li>
            <li><a class="" href="../../functions/serverless-functions-annotations.html">Adding annotations to functions</a></li>
            <li><a class="" href="../../functions/serverless-functions-reference-guide.html">Functions development reference guide</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5"><span id="tgSpan5" class="fa fa-angle-right"></span>Knative CLI</a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-0"><span id="sgSpan-5-0" class="fa fa-caret-right"></span>&nbsp;Knative Serving CLI commands</a>
              <ul id="topicSubGroup-5-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../cli_tools/serving_cli/kn-service.html">kn service commands</a></li>
                  <li><a class="" href="../../cli_tools/serving_cli/kn-service-offline.html">kn service commands in offline mode</a></li>
                  <li><a class="" href="../../cli_tools/serving_cli/kn-container.html">kn container commands</a></li>
                  <li><a class="" href="../../cli_tools/serving_cli/kn-domain.html">kn domain commands</a></li>              </ul>
            </li>
            <li><a class="" href="../../cli_tools/advanced-kn-config.html">Configuring the Knative CLI</a></li>
            <li><a class="" href="../../cli_tools/kn-plugins.html">Knative CLI plugins</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-3"><span id="sgSpan-5-3" class="fa fa-caret-right"></span>&nbsp;Knative Eventing CLI commands</a>
              <ul id="topicSubGroup-5-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../cli_tools/eventing_cli/kn-source.html">kn source commands</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-4"><span id="sgSpan-5-4" class="fa fa-caret-right"></span>&nbsp;Knative Functions CLI commands</a>
              <ul id="topicSubGroup-5-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../cli_tools/functions_cli/kn-functions.html">kn functions commands</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6"><span id="tgSpan6" class="fa fa-angle-right"></span>Observability</a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-0"><span id="sgSpan-6-0" class="fa fa-caret-right"></span>&nbsp;Administrator metrics</a>
              <ul id="topicSubGroup-6-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../observability/admin-metrics/serverless-admin-metrics.html">Administrator metrics overview</a></li>
                  <li><a class="" href="../../observability/admin-metrics/serverless-controller-metrics.html">Controller metrics</a></li>
                  <li><a class="" href="../../observability/admin-metrics/serverless-webhook-metrics.html">Webhook metrics</a></li>
                  <li><a class="" href="../../observability/admin-metrics/serverless-admin-metrics-eventing.html">Knative Eventing metrics</a></li>
                  <li><a class="" href="../../observability/admin-metrics/serverless-admin-metrics-serving.html">Knative Serving metrics</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-1"><span id="sgSpan-6-1" class="fa fa-caret-right"></span>&nbsp;Developer metrics</a>
              <ul id="topicSubGroup-6-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../observability/developer-metrics/serverless-developer-metrics.html">Developer metrics overview</a></li>
                  <li><a class="" href="../../observability/developer-metrics/serverless-monitoring-services-default-metrics.html">Default Knative service metrics</a></li>
                  <li><a class="" href="../../observability/developer-metrics/serverless-monitoring-services-custom-metrics.html">Custom Knative service metrics</a></li>
                  <li><a class="" href="../../observability/developer-metrics/serverless-monitoring-services-configuration-scraping.html">Configuration for scraping custom metrics</a></li>
                  <li><a class="" href="../../observability/developer-metrics/serverless-monitoring-services-examining-metrics.html">Examining metrics of a service</a></li>
                  <li><a class="" href="../../observability/developer-metrics/serverless-developer-metrics-dashboard.html">Dashboard for service metrics</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-2"><span id="sgSpan-6-2" class="fa fa-caret-right"></span>&nbsp;Cluster logging</a>
              <ul id="topicSubGroup-6-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../observability/cluster-logging/cluster-logging-serverless.html">Using OpenShift Logging with Serverless</a></li>
                  <li><a class="" href="../../observability/cluster-logging/finding-serving-logs-components.html">Finding logs for Knative Serving components</a></li>
                  <li><a class="" href="../../observability/cluster-logging/finding-serving-logs-services.html">Finding logs for Knative Serving services</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-3"><span id="sgSpan-6-3" class="fa fa-caret-right"></span>&nbsp;Tracing</a>
              <ul id="topicSubGroup-6-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../observability/tracing/serverless-tracing.html">Tracing requests</a></li>
                  <li><a class="" href="../../observability/tracing/serverless-tracing-jaeger.html">Using Jaeger distributed tracing</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7"><span id="tgSpan7" class="fa fa-angle-right"></span>Integrations</a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../../integrations/serverless-ossm-setup.html">Integrating Service Mesh with OpenShift Serverless</a></li>
            <li><a class="" href="../../integrations/serverless-cost-management-integration.html">Integrating Serverless with the cost management service</a></li>
            <li><a class="" href="../../integrations/gpu-resources.html">Using NVIDIA GPU resources with serverless applications</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8"><span id="tgSpan8" class="fa fa-angle-right"></span>Removing Serverless</a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../../removing/removing-openshift-serverless.html">Removing Serverless overview</a></li>
            <li><a class="" href="../../removing/uninstalling-knative-eventing.html">Uninstalling Knative Eventing</a></li>
            <li><a class="" href="../../removing/uninstalling-knative-serving.html">Uninstalling Knative Serving</a></li>
            <li><a class="" href="../../removing/removing-serverless-operator.html">Removing Serverless Operator</a></li>
            <li><a class="" href="../../removing/deleting-serverless-crds.html">Deleting Serverless CRDs</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div id="hc-search-modal">
        <div id="hc-modal-content">
          <span id="hc-modal-close">&times;</span>
          <div id="hc-search-results-wrapper">
            <div id="hc-search-results"></div>
            <div id="hc-search-progress-indicator" class="text-center search-progress-indicator"><i class="fa fa-circle-o-notch fa-spin" style="font-size:42px"></i></div>
            <div class="text-center">
              <button id="hc-search-more-btn">Show more results</button>
            </div>
          </div>
        </div>
      </div>
      <div class="print-logo" style="display:none;">
        <img src="https://www.redhat.com/cms/managed-files/Logo-Red_Hat-OpenShift-A-Standard-RGB_0_0.svg" alt="print logo"/>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>
            Custom event sources
          </h1>
        </div>
        
        
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#serverless-sinkbinding-intro_context">Sink binding</a>
<ul class="sectlevel2">
<li><a href="#serverless-sinkbinding-yaml_serverless-custom-event-sources">Creating a sink binding by using YAML</a></li>
<li><a href="#serverless-sinkbinding-kn_serverless-custom-event-sources">Creating a sink binding by using the Knative CLI</a></li>
<li><a href="#serverless-sinkbinding-odc_serverless-custom-event-sources">Creating a sink binding by using the web console</a></li>
<li><a href="#serverless-sinkbinding-reference_serverless-custom-event-sources">Sink binding reference</a></li>
</ul>
</li>
<li><a href="#serverless-custom-event-sources-containersource">Container source</a>
<ul class="sectlevel2">
<li><a href="#serverless-containersource-guidelines_serverless-custom-event-sources">Guidelines for creating a container image</a></li>
<li><a href="#serverless-kn-containersource_serverless-custom-event-sources">Creating and managing container sources by using the Knative CLI</a></li>
<li><a href="#serverless-odc-create-containersource_serverless-custom-event-sources">Creating a container source by using the web console</a></li>
<li><a href="#serverless-containersource-reference_serverless-custom-event-sources">Container source reference</a></li>
</ul>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you need to ingress events from an event producer that is not included in Knative, or from a producer that emits events which are not in the <code>CloudEvent</code> format, you can do this by creating a custom event source. You can create a custom event source by using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use a <code>PodSpecable</code> object as an event source, by creating a sink binding.</p>
</li>
<li>
<p>Use a container as an event source, by creating a container source.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="serverless-sinkbinding-intro_context"><a class="anchor" href="#serverless-sinkbinding-intro_context"></a>Sink binding</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>SinkBinding</code> object supports decoupling event production from delivery addressing. Sink binding is used to connect <em>event producers</em> to an event consumer, or <em>sink</em>. An event producer is a Kubernetes resource that embeds a <code>PodSpec</code> template and produces events. A sink is an addressable Kubernetes object that can receive events.</p>
</div>
<div class="paragraph">
<p>The <code>SinkBinding</code> object injects environment variables into the <code>PodTemplateSpec</code> of the sink, which means that the application code does not need to interact directly with the Kubernetes API to locate the event destination. These environment variables are as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>K_SINK</code></dt>
<dd>
<p>The URL of the resolved sink.</p>
</dd>
<dt class="hdlist1"><code>K_CE_OVERRIDES</code></dt>
<dd>
<p>A JSON object that specifies overrides to the outbound event.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>SinkBinding</code> object currently does not support custom revision names for services.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="serverless-sinkbinding-yaml_serverless-custom-event-sources"><a class="anchor" href="#serverless-sinkbinding-yaml_serverless-custom-event-sources"></a>Creating a sink binding by using YAML</h3>
<div class="paragraph">
<p>Creating Knative resources by using YAML files uses a declarative API, which enables you to describe event sources declaratively and in a reproducible manner. To create a sink binding by using YAML, you must create a YAML file that defines an <code>SinkBinding</code> object, then apply it by using the <code>oc apply</code> command.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The OpenShift Serverless Operator, Knative Serving and Knative Eventing are installed on the cluster.</p>
</li>
<li>
<p>Install the OpenShift CLI (<code>oc</code>).</p>
</li>
<li>
<p>You have created a project or have access to a project with the appropriate roles and permissions to create applications and other workloads in Serverless.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To check that sink binding is set up correctly, create a Knative event display service, or event sink, that dumps incoming messages to its log.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create a service YAML file:</p>
<div class="listingblock">
<div class="title">Example service YAML file</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">serving.knative.dev/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">event-display</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">quay.io/openshift-knative/knative-eventing-sources-event-display:latest</span></code></pre>
</div>
</div>
</li>
<li>
<p>Create the service:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> &lt;filename&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Create a sink binding instance that directs events to the service.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create a sink binding YAML file:</p>
<div class="listingblock">
<div class="title">Example service YAML file</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">sources.knative.dev/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">SinkBinding</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">bind-heartbeat</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">subject</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">batch/v1</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Job</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="na">selector</span><span class="pi">:</span>
      <span class="na">matchLabels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">heartbeat-cron</span>

  <span class="na">sink</span><span class="pi">:</span>
    <span class="na">ref</span><span class="pi">:</span>
      <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">serving.knative.dev/v1</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">event-display</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In this example, any Job with the label <code>app: heartbeat-cron</code> will be bound to the event sink.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create the sink binding:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> &lt;filename&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Create a <code>CronJob</code> object.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create a cron job YAML file:</p>
<div class="listingblock">
<div class="title">Example cron job YAML file</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">batch/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">CronJob</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">heartbeat-cron</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="c1"># Run every minute</span>
  <span class="na">schedule</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*"</span>
  <span class="na">jobTemplate</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">heartbeat-cron</span>
        <span class="s">bindings.knative.dev/include</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">template</span><span class="pi">:</span>
        <span class="na">spec</span><span class="pi">:</span>
          <span class="na">restartPolicy</span><span class="pi">:</span> <span class="s">Never</span>
          <span class="na">containers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">single-heartbeat</span>
              <span class="na">image</span><span class="pi">:</span> <span class="s">quay.io/openshift-knative/heartbeats:latest</span>
              <span class="na">args</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="s">--period=1</span>
              <span class="na">env</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">ONE_SHOT</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAME</span>
                  <span class="na">valueFrom</span><span class="pi">:</span>
                    <span class="na">fieldRef</span><span class="pi">:</span>
                      <span class="na">fieldPath</span><span class="pi">:</span> <span class="s">metadata.name</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAMESPACE</span>
                  <span class="na">valueFrom</span><span class="pi">:</span>
                    <span class="na">fieldRef</span><span class="pi">:</span>
                      <span class="na">fieldPath</span><span class="pi">:</span> <span class="s">metadata.namespace</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use sink binding, you must manually add a <code>bindings.knative.dev/include=true</code> label to your Knative resources.</p>
</div>
<div class="paragraph">
<p>For example, to add this label to a <code>CronJob</code> resource, add the following lines to the <code>Job</code> resource YAML definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml">  <span class="na">jobTemplate</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">heartbeat-cron</span>
        <span class="s">bindings.knative.dev/include</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create the cron job:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> &lt;filename&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Check that the controller is mapped correctly by entering the following command and inspecting the output:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get sinkbindings.sources.knative.dev bind-heartbeat <span class="nt">-oyaml</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">spec</span><span class="pi">:</span>
  <span class="na">sink</span><span class="pi">:</span>
    <span class="na">ref</span><span class="pi">:</span>
      <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">serving.knative.dev/v1</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">event-display</span>
      <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
  <span class="na">subject</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">batch/v1</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Job</span>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
    <span class="na">selector</span><span class="pi">:</span>
      <span class="na">matchLabels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">heartbeat-cron</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>You can verify that the Kubernetes events were sent to the Knative event sink by looking at the message dumper function logs.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enter the command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get pods</code></pre>
</div>
</div>
</li>
<li>
<p>Enter the command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc logs <span class="si">$(</span>oc get pod <span class="nt">-o</span> name | <span class="nb">grep </span>event-display<span class="si">)</span> <span class="nt">-c</span> user-container</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">  cloudevents.Event
Validation: valid
Context Attributes,
  specversion: 1.0
  type: dev.knative.eventing.samples.heartbeat
</span><span class="gp">  source: https://knative.dev/eventing-contrib/cmd/heartbeats/#</span>event-test/mypod
<span class="go">  id: 2b72d7bf-c38f-4a98-a433-608fbcdd2596
  time: 2019-10-18T15:23:20.809775386Z
  contenttype: application/json
Extensions,
  beats: true
  heart: yes
  the: 42
Data,
  {
    "id": 1,
    "label": ""
  }</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-sinkbinding-kn_serverless-custom-event-sources"><a class="anchor" href="#serverless-sinkbinding-kn_serverless-custom-event-sources"></a>Creating a sink binding by using the Knative CLI</h3>
<div class="paragraph">
<p>You can use the <code>kn source binding create</code> command to create a sink binding by using the Knative (<code>kn</code>) CLI. Using the Knative CLI to create event sources provides a more streamlined and intuitive user interface than modifying YAML files directly.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The OpenShift Serverless Operator, Knative Serving and Knative Eventing are installed on the cluster.</p>
</li>
<li>
<p>You have created a project or have access to a project with the appropriate roles and permissions to create applications and other workloads in Serverless.</p>
</li>
<li>
<p>Install the Knative (<code>kn</code>) CLI.</p>
</li>
<li>
<p>Install the OpenShift CLI (<code>oc</code>).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The following procedure requires you to create YAML files.</p>
</div>
<div class="paragraph">
<p>If you change the names of the YAML files from those used in the examples, you must ensure that you also update the corresponding CLI commands.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To check that sink binding is set up correctly, create a Knative event display service, or event sink, that dumps incoming messages to its log:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn service create event-display <span class="nt">--image</span> quay.io/openshift-knative/knative-eventing-sources-event-display:latest</code></pre>
</div>
</div>
</li>
<li>
<p>Create a sink binding instance that directs events to the service:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn <span class="nb">source </span>binding create bind-heartbeat <span class="nt">--subject</span> Job:batch/v1:app<span class="o">=</span>heartbeat-cron <span class="nt">--sink</span> ksvc:event-display</code></pre>
</div>
</div>
</li>
<li>
<p>Create a <code>CronJob</code> object.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create a cron job YAML file:</p>
<div class="listingblock">
<div class="title">Example cron job YAML file</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">batch/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">CronJob</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">heartbeat-cron</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="c1"># Run every minute</span>
  <span class="na">schedule</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*"</span>
  <span class="na">jobTemplate</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">heartbeat-cron</span>
        <span class="s">bindings.knative.dev/include</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">template</span><span class="pi">:</span>
        <span class="na">spec</span><span class="pi">:</span>
          <span class="na">restartPolicy</span><span class="pi">:</span> <span class="s">Never</span>
          <span class="na">containers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">single-heartbeat</span>
              <span class="na">image</span><span class="pi">:</span> <span class="s">quay.io/openshift-knative/heartbeats:latest</span>
              <span class="na">args</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="s">--period=1</span>
              <span class="na">env</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">ONE_SHOT</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAME</span>
                  <span class="na">valueFrom</span><span class="pi">:</span>
                    <span class="na">fieldRef</span><span class="pi">:</span>
                      <span class="na">fieldPath</span><span class="pi">:</span> <span class="s">metadata.name</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAMESPACE</span>
                  <span class="na">valueFrom</span><span class="pi">:</span>
                    <span class="na">fieldRef</span><span class="pi">:</span>
                      <span class="na">fieldPath</span><span class="pi">:</span> <span class="s">metadata.namespace</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use sink binding, you must manually add a <code>bindings.knative.dev/include=true</code> label to your Knative CRs.</p>
</div>
<div class="paragraph">
<p>For example, to add this label to a <code>CronJob</code> CR, add the following lines to the <code>Job</code> CR YAML definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml">  <span class="na">jobTemplate</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">heartbeat-cron</span>
        <span class="s">bindings.knative.dev/include</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create the cron job:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> &lt;filename&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Check that the controller is mapped correctly by entering the following command and inspecting the output:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn <span class="nb">source </span>binding describe bind-heartbeat</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">Name:         bind-heartbeat
Namespace:    demo-2
Annotations:  sources.knative.dev/creator=minikube-user, sources.knative.dev/lastModifier=minikub ...
Age:          2m
Subject:
  Resource:   job (batch/v1)
  Selector:
    app:      heartbeat-cron
Sink:
  Name:       event-display
  Resource:   Service (serving.knative.dev/v1)

Conditions:
  OK TYPE     AGE REASON
  ++ Ready     2m</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>You can verify that the Kubernetes events were sent to the Knative event sink by looking at the message dumper function logs.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>View the message dumper function logs by entering the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get pods</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc logs <span class="si">$(</span>oc get pod <span class="nt">-o</span> name | <span class="nb">grep </span>event-display<span class="si">)</span> <span class="nt">-c</span> user-container</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">  cloudevents.Event
Validation: valid
Context Attributes,
  specversion: 1.0
  type: dev.knative.eventing.samples.heartbeat
</span><span class="gp">  source: https://knative.dev/eventing-contrib/cmd/heartbeats/#</span>event-test/mypod
<span class="go">  id: 2b72d7bf-c38f-4a98-a433-608fbcdd2596
  time: 2019-10-18T15:23:20.809775386Z
  contenttype: application/json
Extensions,
  beats: true
  heart: yes
  the: 42
Data,
  {
    "id": 1,
    "label": ""
  }</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="specifying-sink-flag-kn_serverless-custom-event-sources"><a class="anchor" href="#specifying-sink-flag-kn_serverless-custom-event-sources"></a>Knative CLI sink flag</h4>
<div class="paragraph">
<p>When you create an event source by using the Knative (<code>kn</code>) CLI, you can specify a sink where events are sent to from that resource by using the <code>--sink</code> flag. The sink can be any addressable or callable resource that can receive incoming events from other resources.</p>
</div>
<div class="paragraph">
<p>The following example creates a sink binding that uses a service, <code>http://event-display.svc.cluster.local</code>, as the sink:</p>
</div>
<div class="listingblock">
<div class="title">Example command using the sink flag</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn <span class="nb">source </span>binding create bind-heartbeat <span class="se">\</span>
  <span class="nt">--namespace</span> sinkbinding-example <span class="se">\</span>
  <span class="nt">--subject</span> <span class="s2">"Job:batch/v1:app=heartbeat-cron"</span> <span class="se">\</span>
  <span class="nt">--sink</span> http://event-display.svc.cluster.local <span class="se">\ </span><i class="conum" data-value="1"></i><b>(1)</b>
<span class="go">  --ce-override "sink=bound"</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>svc</code> in <code>http://event-display.svc.cluster.local</code> determines that the sink is a Knative service. Other default sink prefixes include <code>channel</code>, and <code>broker</code>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="serverless-sinkbinding-odc_serverless-custom-event-sources"><a class="anchor" href="#serverless-sinkbinding-odc_serverless-custom-event-sources"></a>Creating a sink binding by using the web console</h3>
<div class="paragraph">
<p>After Knative Eventing is installed on your cluster, you can create a sink binding by using the web console. Using the Serverless web console provides a streamlined and intuitive user interface to create an event source.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have logged in to the Serverless web console.</p>
</li>
<li>
<p>The OpenShift Serverless Operator, Knative Serving, and Knative Eventing are installed on your Serverless cluster.</p>
</li>
<li>
<p>You have created a project or have access to a project with the appropriate roles and permissions to create applications and other workloads in Serverless.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a Knative service to use as a sink:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Developer</strong> perspective, navigate to <strong>+Add</strong> &#8594; <strong>YAML</strong>.</p>
</li>
<li>
<p>Copy the example YAML:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">serving.knative.dev/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">event-display</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">quay.io/openshift-knative/knative-eventing-sources-event-display:latest</span></code></pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Create a <code>CronJob</code> resource that is used as an event source and sends an event every minute.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Developer</strong> perspective, navigate to <strong>+Add</strong> &#8594; <strong>YAML</strong>.</p>
</li>
<li>
<p>Copy the example YAML:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">batch/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">CronJob</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">heartbeat-cron</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="c1"># Run every minute</span>
  <span class="na">schedule</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*/1</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*"</span>
  <span class="na">jobTemplate</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">heartbeat-cron</span>
        <span class="s">bindings.knative.dev/include</span><span class="pi">:</span> <span class="no">true</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">template</span><span class="pi">:</span>
        <span class="na">spec</span><span class="pi">:</span>
          <span class="na">restartPolicy</span><span class="pi">:</span> <span class="s">Never</span>
          <span class="na">containers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">single-heartbeat</span>
              <span class="na">image</span><span class="pi">:</span> <span class="s">quay.io/openshift-knative/heartbeats</span>
              <span class="na">args</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">--period=1</span>
              <span class="na">env</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">ONE_SHOT</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAME</span>
                  <span class="na">valueFrom</span><span class="pi">:</span>
                    <span class="na">fieldRef</span><span class="pi">:</span>
                      <span class="na">fieldPath</span><span class="pi">:</span> <span class="s">metadata.name</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAMESPACE</span>
                  <span class="na">valueFrom</span><span class="pi">:</span>
                    <span class="na">fieldRef</span><span class="pi">:</span>
                      <span class="na">fieldPath</span><span class="pi">:</span> <span class="s">metadata.namespace</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Ensure that you include the <code>bindings.knative.dev/include: true</code> label. The default namespace selection behavior of OpenShift Serverless uses inclusion mode.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Create a sink binding in the same namespace as the service created in the previous step, or any other sink that you want to send events to.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Developer</strong> perspective, navigate to <strong>+Add</strong> &#8594; <strong>Event Source</strong>. The  <strong>Event Sources</strong> page is displayed.</p>
</li>
<li>
<p>Optional: If you have multiple providers for your event sources, select the required provider from the <strong>Providers</strong> list to filter the available event sources from the provider.</p>
</li>
<li>
<p>Select <strong>Sink Binding</strong> and then click <strong>Create Event Source</strong>. The <strong>Create Event Source</strong> page is displayed.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can configure the <strong>Sink Binding</strong> settings by using the <strong>Form view</strong> or <strong>YAML view</strong> and can switch between the views. The data is persisted when switching between the views.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>In the <strong>apiVersion</strong> field enter <code>batch/v1</code>.</p>
</li>
<li>
<p>In the <strong>Kind</strong> field enter <code>Job</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>CronJob</code> kind is not supported directly by OpenShift Serverless sink binding, so the <strong>Kind</strong> field must target the <code>Job</code> objects created by the cron job, rather than the cron job object itself.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Select a <strong>Sink</strong>. This can be either a <strong>Resource</strong> or a <strong>URI</strong>. In this example, the <code>event-display</code> service created in the previous step is used as the <strong>Resource</strong> sink.</p>
</li>
<li>
<p>In the <strong>Match labels</strong> section:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Enter <code>app</code> in the <strong>Name</strong> field.</p>
</li>
<li>
<p>Enter <code>heartbeat-cron</code> in the <strong>Value</strong> field.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The label selector is required when using cron jobs with sink binding, rather than the resource name. This is because jobs created by a cron job do not have a predictable name, and contain a randomly generated string in their name. For example, <code>hearthbeat-cron-1cc23f</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>You can verify that the sink binding, sink, and cron job have been created and are working correctly by viewing the <strong>Topology</strong> page and pod logs.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Developer</strong> perspective, navigate to <strong>Topology</strong>.</p>
</li>
<li>
<p>View the sink binding, sink, and heartbeats cron job.</p>
<div class="imageblock">
<div class="content">
<img src="/home/gmcgoldr/github/openshift-docs-latest/eventing/event-sources/images/verify-sinkbinding-odc.png" alt="View the sink binding and service in the Topology view">
</div>
</div>
</li>
<li>
<p>Observe that successful jobs are being registered by the cron job once the sink binding is added. This means that the sink binding is successfully reconfiguring the jobs created by the cron job.</p>
</li>
<li>
<p>Browse the logs of the <code>event-display</code> service pod to see events produced by the heartbeats cron job.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-sinkbinding-reference_serverless-custom-event-sources"><a class="anchor" href="#serverless-sinkbinding-reference_serverless-custom-event-sources"></a>Sink binding reference</h3>
<div class="paragraph">
<p>You can use a <code>PodSpecable</code> object as an event source by creating a sink binding. You can configure multiple parameters when creating a <code>SinkBinding</code> object.</p>
</div>
<div class="paragraph">
<p><code>SinkBinding</code> objects support the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required or optional</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the API version, for example <code>sources.knative.dev/v1</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies this resource object as a <code>SinkBinding</code> object.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies metadata that uniquely identifies the <code>SinkBinding</code> object. For example, a <code>name</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the configuration information for this <code>SinkBinding</code> object.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec.sink</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to an object that resolves to a URI to use as the sink.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec.subject</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">References the resources for which the runtime contract is augmented by binding implementations.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec.ceOverrides</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines overrides to control the output format and modifications to the event sent to the sink.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="serverless-sinkbinding-reference-subject-parameters_serverless-custom-event-sources"><a class="anchor" href="#serverless-sinkbinding-reference-subject-parameters_serverless-custom-event-sources"></a>Subject parameter</h4>
<div class="paragraph">
<p>The <code>Subject</code> parameter references the resources for which the runtime contract is augmented by binding implementations. You can configure multiple fields for a <code>Subject</code> definition.</p>
</div>
<div class="paragraph">
<p>The <code>Subject</code> definition supports the following fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required or optional</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API version of the referent.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kind of the referent.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Namespace of the referent. If omitted, this defaults to the namespace of the object.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the referent.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not use if you configure <code>selector</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selector of the referents.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not use if you configure <code>name</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selector.matchExpressions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of label selector requirements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only use one of either <code>matchExpressions</code> or <code>matchLabels</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selector.matchExpressions.key</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The label key that the selector applies to.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required if using <code>matchExpressions</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selector.matchExpressions.operator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents a key&#8217;s relationship to a set of values. Valid operators are <code>In</code>, <code>NotIn</code>, <code>Exists</code> and <code>DoesNotExist</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required if using <code>matchExpressions</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selector.matchExpressions.values</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of string values. If the <code>operator</code> parameter value is <code>In</code> or <code>NotIn</code>, the values array must be non-empty. If the <code>operator</code> parameter value is <code>Exists</code> or <code>DoesNotExist</code>, the values array must be empty. This array is replaced during a strategic merge patch.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required if using <code>matchExpressions</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selector.matchLabels</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A map of key-value pairs. Each key-value pair in the <code>matchLabels</code> map is equivalent to an element of <code>matchExpressions</code>, where the key field is <code>matchLabels.&lt;key&gt;</code>, the <code>operator</code> is <code>In</code>, and the <code>values</code> array contains only <code>matchLabels.&lt;value&gt;</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only use one of either <code>matchExpressions</code> or <code>matchLabels</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Subject parameter examples</div>
<p>Given the following YAML, the <code>Deployment</code> object named <code>mysubject</code> in the <code>default</code> namespace is selected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">sources.knative.dev/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">SinkBinding</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">bind-heartbeat</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">subject</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">mysubject</span>
  <span class="s">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Given the following YAML, any <code>Job</code> object with the label <code>working=example</code> in the <code>default</code> namespace is selected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">sources.knative.dev/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">SinkBinding</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">bind-heartbeat</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">subject</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">batch/v1</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Job</span>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
    <span class="na">selector</span><span class="pi">:</span>
      <span class="na">matchLabels</span><span class="pi">:</span>
        <span class="na">working</span><span class="pi">:</span> <span class="s">example</span>
  <span class="s">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Given the following YAML, any <code>Pod</code> object with the label <code>working=example</code> or <code>working=sample</code> in the <code>default</code> namespace is selected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">sources.knative.dev/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">SinkBinding</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">bind-heartbeat</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">subject</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Pod</span>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
    <span class="na">selector</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">matchExpression</span><span class="pi">:</span>
        <span class="na">key</span><span class="pi">:</span> <span class="s">working</span>
        <span class="na">operator</span><span class="pi">:</span> <span class="s">In</span>
        <span class="na">values</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">example</span>
          <span class="pi">-</span> <span class="s">sample</span>
  <span class="s">...</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="serverless-sinkbinding-reference-cloudevent-overrides_serverless-custom-event-sources"><a class="anchor" href="#serverless-sinkbinding-reference-cloudevent-overrides_serverless-custom-event-sources"></a>CloudEvent overrides</h4>
<div class="paragraph">
<p>A <code>ceOverrides</code> definition provides overrides that control the CloudEvent&#8217;s output format and modifications sent to the sink. You can configure multiple fields for the <code>ceOverrides</code> definition.</p>
</div>
<div class="paragraph">
<p>A <code>ceOverrides</code> definition supports the following fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required or optional</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extensions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies which attributes are added or overridden on the outbound event. Each <code>extensions</code> key-value pair is set independently on the event as an attribute extension.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Only valid <code>CloudEvent</code> attribute names are allowed as extensions. You cannot set the spec defined attributes from the extensions override configuration. For example, you can not modify the <code>type</code> attribute.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">CloudEvent Overrides example</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">sources.knative.dev/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">SinkBinding</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">bind-heartbeat</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="s">...</span>
  <span class="s">ceOverrides</span><span class="pi">:</span>
    <span class="na">extensions</span><span class="pi">:</span>
      <span class="na">extra</span><span class="pi">:</span> <span class="s">this is an extra attribute</span>
      <span class="na">additional</span><span class="pi">:</span> <span class="s">42</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This sets the <code>K_CE_OVERRIDES</code> environment variable on the <code>subject</code>:</p>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">{ "extensions": { "extra": "this is an extra attribute", "additional": "42" } }</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="serverless-sinkbinding-reference-include-label_serverless-custom-event-sources"><a class="anchor" href="#serverless-sinkbinding-reference-include-label_serverless-custom-event-sources"></a>The include label</h4>
<div class="paragraph">
<p>To use a sink binding, you need to do assign the <code>bindings.knative.dev/include: "true"</code> label to either the resource or the namespace that the resource is included in. If the resource definition does not include the label, a cluster administrator can attach it to the namespace by running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc label namespace &lt;namespace&gt; bindings.knative.dev/include<span class="o">=</span><span class="nb">true</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="serverless-custom-event-sources-containersource"><a class="anchor" href="#serverless-custom-event-sources-containersource"></a>Container source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Container sources create a container image that generates events and sends events to a sink. You can use a container source to create a custom event source, by creating a container image and a <code>ContainerSource</code> object that uses your image URI.</p>
</div>
<div class="sect2">
<h3 id="serverless-containersource-guidelines_serverless-custom-event-sources"><a class="anchor" href="#serverless-containersource-guidelines_serverless-custom-event-sources"></a>Guidelines for creating a container image</h3>
<div class="paragraph">
<p>Two environment variables are injected by the container source controller: <code>K_SINK</code> and <code>K_CE_OVERRIDES</code>. These variables are resolved from the <code>sink</code> and <code>ceOverrides</code> spec, respectively. Events are sent to the sink URI specified in the <code>K_SINK</code> environment variable. The message must be sent as a <code>POST</code> using the <a href="https://cloudevents.io/"><code>CloudEvent</code></a> HTTP format.</p>
</div>
<div class="paragraph">
<div class="title">Example container images</div>
<p>The following is an example of a heartbeats container image:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="go"><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"context"</span>
	<span class="s">"encoding/json"</span>
	<span class="s">"flag"</span>
	<span class="s">"fmt"</span>
	<span class="s">"log"</span>
	<span class="s">"os"</span>
	<span class="s">"strconv"</span>
	<span class="s">"time"</span>

	<span class="n">duckv1</span> <span class="s">"knative.dev/pkg/apis/duck/v1"</span>

	<span class="n">cloudevents</span> <span class="s">"github.com/cloudevents/sdk-go/v2"</span>
	<span class="s">"github.com/kelseyhightower/envconfig"</span>
<span class="p">)</span>

<span class="k">type</span> <span class="n">Heartbeat</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">Sequence</span> <span class="kt">int</span>    <span class="s">`json:"id"`</span>
	<span class="n">Label</span>    <span class="kt">string</span> <span class="s">`json:"label"`</span>
<span class="p">}</span>

<span class="k">var</span> <span class="p">(</span>
	<span class="n">eventSource</span> <span class="kt">string</span>
	<span class="n">eventType</span>   <span class="kt">string</span>
	<span class="n">sink</span>        <span class="kt">string</span>
	<span class="n">label</span>       <span class="kt">string</span>
	<span class="n">periodStr</span>   <span class="kt">string</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">eventSource</span><span class="p">,</span> <span class="s">"eventSource"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"the event-source (CloudEvents)"</span><span class="p">)</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">eventType</span><span class="p">,</span> <span class="s">"eventType"</span><span class="p">,</span> <span class="s">"dev.knative.eventing.samples.heartbeat"</span><span class="p">,</span> <span class="s">"the event-type (CloudEvents)"</span><span class="p">)</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sink</span><span class="p">,</span> <span class="s">"sink"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"the host url to heartbeat to"</span><span class="p">)</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">label</span><span class="p">,</span> <span class="s">"label"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"a special label"</span><span class="p">)</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">periodStr</span><span class="p">,</span> <span class="s">"period"</span><span class="p">,</span> <span class="s">"5"</span><span class="p">,</span> <span class="s">"the number of seconds between heartbeats"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">envConfig</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="c">// Sink URL where to send heartbeat cloud events</span>
	<span class="n">Sink</span> <span class="kt">string</span> <span class="s">`envconfig:"K_SINK"`</span>

	<span class="c">// CEOverrides are the CloudEvents overrides to be applied to the outbound event.</span>
	<span class="n">CEOverrides</span> <span class="kt">string</span> <span class="s">`envconfig:"K_CE_OVERRIDES"`</span>

	<span class="c">// Name of this pod.</span>
	<span class="n">Name</span> <span class="kt">string</span> <span class="s">`envconfig:"POD_NAME" required:"true"`</span>

	<span class="c">// Namespace this pod exists in.</span>
	<span class="n">Namespace</span> <span class="kt">string</span> <span class="s">`envconfig:"POD_NAMESPACE" required:"true"`</span>

	<span class="c">// Whether to run continuously or exit.</span>
	<span class="n">OneShot</span> <span class="kt">bool</span> <span class="s">`envconfig:"ONE_SHOT" default:"false"`</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">Parse</span><span class="p">()</span>

	<span class="k">var</span> <span class="n">env</span> <span class="n">envConfig</span>
	<span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">envconfig</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">env</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">log</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"[ERROR] Failed to process env var: %s"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
		<span class="n">os</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="n">env</span><span class="o">.</span><span class="n">Sink</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
		<span class="n">sink</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">Sink</span>
	<span class="p">}</span>

	<span class="k">var</span> <span class="n">ceOverrides</span> <span class="o">*</span><span class="n">duckv1</span><span class="o">.</span><span class="n">CloudEventOverrides</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">CEOverrides</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
		<span class="n">overrides</span> <span class="o">:=</span> <span class="n">duckv1</span><span class="o">.</span><span class="n">CloudEventOverrides</span><span class="p">{}</span>
		<span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">CEOverrides</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">overrides</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
			<span class="n">log</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"[ERROR] Unparseable CloudEvents overrides %s: %v"</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">CEOverrides</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
			<span class="n">os</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
		<span class="p">}</span>
		<span class="n">ceOverrides</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">overrides</span>
	<span class="p">}</span>

	<span class="n">p</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">cloudevents</span><span class="o">.</span><span class="n">NewHTTP</span><span class="p">(</span><span class="n">cloudevents</span><span class="o">.</span><span class="n">WithTarget</span><span class="p">(</span><span class="n">sink</span><span class="p">))</span>
	<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"failed to create http protocol: %s"</span><span class="p">,</span> <span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">())</span>
	<span class="p">}</span>

	<span class="n">c</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">cloudevents</span><span class="o">.</span><span class="n">NewClient</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">cloudevents</span><span class="o">.</span><span class="n">WithUUIDs</span><span class="p">(),</span> <span class="n">cloudevents</span><span class="o">.</span><span class="n">WithTimeNow</span><span class="p">())</span>
	<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"failed to create client: %s"</span><span class="p">,</span> <span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">())</span>
	<span class="p">}</span>

	<span class="k">var</span> <span class="n">period</span> <span class="n">time</span><span class="o">.</span><span class="n">Duration</span>
	<span class="k">if</span> <span class="n">p</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">strconv</span><span class="o">.</span><span class="n">Atoi</span><span class="p">(</span><span class="n">periodStr</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">period</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="m">5</span><span class="p">)</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">period</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="n">eventSource</span> <span class="o">==</span> <span class="s">""</span> <span class="p">{</span>
		<span class="n">eventSource</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"https://knative.dev/eventing-contrib/cmd/heartbeats/#%s/%s"</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">Name</span><span class="p">)</span>
		<span class="n">log</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Heartbeats Source: %s"</span><span class="p">,</span> <span class="n">eventSource</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">label</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">label</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'"'</span> <span class="p">{</span>
		<span class="n">label</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">strconv</span><span class="o">.</span><span class="n">Unquote</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="n">hb</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">Heartbeat</span><span class="p">{</span>
		<span class="n">Sequence</span><span class="o">:</span> <span class="m">0</span><span class="p">,</span>
		<span class="n">Label</span><span class="o">:</span>    <span class="n">label</span><span class="p">,</span>
	<span class="p">}</span>
	<span class="n">ticker</span> <span class="o">:=</span> <span class="n">time</span><span class="o">.</span><span class="n">NewTicker</span><span class="p">(</span><span class="n">period</span><span class="p">)</span>
	<span class="k">for</span> <span class="p">{</span>
		<span class="n">hb</span><span class="o">.</span><span class="n">Sequence</span><span class="o">++</span>

		<span class="n">event</span> <span class="o">:=</span> <span class="n">cloudevents</span><span class="o">.</span><span class="n">NewEvent</span><span class="p">(</span><span class="s">"1.0"</span><span class="p">)</span>
		<span class="n">event</span><span class="o">.</span><span class="n">SetType</span><span class="p">(</span><span class="n">eventType</span><span class="p">)</span>
		<span class="n">event</span><span class="o">.</span><span class="n">SetSource</span><span class="p">(</span><span class="n">eventSource</span><span class="p">)</span>
		<span class="n">event</span><span class="o">.</span><span class="n">SetExtension</span><span class="p">(</span><span class="s">"the"</span><span class="p">,</span> <span class="m">42</span><span class="p">)</span>
		<span class="n">event</span><span class="o">.</span><span class="n">SetExtension</span><span class="p">(</span><span class="s">"heart"</span><span class="p">,</span> <span class="s">"yes"</span><span class="p">)</span>
		<span class="n">event</span><span class="o">.</span><span class="n">SetExtension</span><span class="p">(</span><span class="s">"beats"</span><span class="p">,</span> <span class="no">true</span><span class="p">)</span>

		<span class="k">if</span> <span class="n">ceOverrides</span> <span class="o">!=</span> <span class="no">nil</span> <span class="o">&amp;&amp;</span> <span class="n">ceOverrides</span><span class="o">.</span><span class="n">Extensions</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
			<span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">ceOverrides</span><span class="o">.</span><span class="n">Extensions</span> <span class="p">{</span>
				<span class="n">event</span><span class="o">.</span><span class="n">SetExtension</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">event</span><span class="o">.</span><span class="n">SetData</span><span class="p">(</span><span class="n">cloudevents</span><span class="o">.</span><span class="n">ApplicationJSON</span><span class="p">,</span> <span class="n">hb</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
			<span class="n">log</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"failed to set cloudevents data: %s"</span><span class="p">,</span> <span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">())</span>
		<span class="p">}</span>

		<span class="n">log</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"sending cloudevent to %s"</span><span class="p">,</span> <span class="n">sink</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">res</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">Send</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">Background</span><span class="p">(),</span> <span class="n">event</span><span class="p">);</span> <span class="o">!</span><span class="n">cloudevents</span><span class="o">.</span><span class="n">IsACK</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">log</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"failed to send cloudevent: %v"</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="n">env</span><span class="o">.</span><span class="n">OneShot</span> <span class="p">{</span>
			<span class="k">return</span>
		<span class="p">}</span>

		<span class="c">// Wait for next tick</span>
		<span class="o">&lt;-</span><span class="n">ticker</span><span class="o">.</span><span class="n">C</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is an example of a container source that references the previous heartbeats container image:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">sources.knative.dev/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ContainerSource</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">test-heartbeats</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
        <span class="c1"># This corresponds to a heartbeats image URI that you have built and published</span>
        <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">gcr.io/knative-releases/knative.dev/eventing/cmd/heartbeats</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">heartbeats</span>
          <span class="na">args</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">--period=1</span>
          <span class="na">env</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAME</span>
              <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">example-pod"</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAMESPACE</span>
              <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">event-test"</span>
  <span class="na">sink</span><span class="pi">:</span>
    <span class="na">ref</span><span class="pi">:</span>
      <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">serving.knative.dev/v1</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">example-service</span>
<span class="nn">...</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="serverless-kn-containersource_serverless-custom-event-sources"><a class="anchor" href="#serverless-kn-containersource_serverless-custom-event-sources"></a>Creating and managing container sources by using the Knative CLI</h3>
<div class="paragraph">
<p>You can use the <code>kn source container</code> commands to create  and manage container sources by using the Knative (<code>kn</code>) CLI. Using the Knative CLI to create event sources provides a more streamlined and intuitive user interface than modifying YAML files directly.</p>
</div>
<div class="listingblock">
<div class="title">Create a container source</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn <span class="nb">source </span>container create &lt;container_source_name&gt; <span class="nt">--image</span> &lt;image_uri&gt; <span class="nt">--sink</span> &lt;sink&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Delete a container source</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn <span class="nb">source </span>container delete &lt;container_source_name&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Describe a container source</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn <span class="nb">source </span>container describe &lt;container_source_name&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">List existing container sources</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn <span class="nb">source </span>container list</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">List existing container sources in YAML format</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn <span class="nb">source </span>container list <span class="nt">-o</span> yaml</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Update a container source</div>
<p>This command updates the image URI for an existing container source:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kn <span class="nb">source </span>container update &lt;container_source_name&gt; <span class="nt">--image</span> &lt;image_uri&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="serverless-odc-create-containersource_serverless-custom-event-sources"><a class="anchor" href="#serverless-odc-create-containersource_serverless-custom-event-sources"></a>Creating a container source by using the web console</h3>
<div class="paragraph">
<p>After Knative Eventing is installed on your cluster, you can create a container source by using the web console. Using the Serverless web console provides a streamlined and intuitive user interface to create an event source.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have logged in to the Serverless web console.</p>
</li>
<li>
<p>The OpenShift Serverless Operator, Knative Serving, and Knative Eventing are installed on your Serverless cluster.</p>
</li>
<li>
<p>You have created a project or have access to a project with the appropriate roles and permissions to create applications and other workloads in Serverless.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Developer</strong> perspective, navigate to <strong>+Add</strong>  <strong>Event Source</strong>. The  <strong>Event Sources</strong> page is displayed.</p>
</li>
<li>
<p>Select <strong>Container Source</strong> and then click <strong>Create Event Source</strong>. The  <strong>Create Event Source</strong> page is displayed.</p>
</li>
<li>
<p>Configure the <strong>Container Source</strong> settings by using the <strong>Form view</strong> or <strong>YAML view</strong>:</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can switch between the <strong>Form view</strong> and <strong>YAML view</strong>. The data is persisted when switching between the views.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Image</strong> field, enter the URI of the image that you want to run in the container created by the container source.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter the name of the image.</p>
</li>
<li>
<p>Optional: In the <strong>Arguments</strong> field, enter any arguments to be passed to the container.</p>
</li>
<li>
<p>Optional: In the <strong>Environment variables</strong> field, add any environment variables to set in the container.</p>
</li>
<li>
<p>In the <strong>Sink</strong> section, add a sink where events from the container source are routed to. If you are using the <strong>Form</strong> view, you can choose from the following options:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Select <strong>Resource</strong> to use a channel, broker, or service as a sink for the event source.</p>
</li>
<li>
<p>Select <strong>URI</strong> to specify where the events from the container source are routed to.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>After you have finished configuring the container source, click <strong>Create</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-containersource-reference_serverless-custom-event-sources"><a class="anchor" href="#serverless-containersource-reference_serverless-custom-event-sources"></a>Container source reference</h3>
<div class="paragraph">
<p>You can use a container as an event source, by creating a <code>ContainerSource</code> object. You can configure multiple parameters when creating a <code>ContainerSource</code> object.</p>
</div>
<div class="paragraph">
<p><code>ContainerSource</code> objects support the following fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required or optional</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the API version, for example <code>sources.knative.dev/v1</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies this resource object as a <code>ContainerSource</code> object.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies metadata that uniquely identifies the <code>ContainerSource</code> object. For example, a <code>name</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the configuration information for this <code>ContainerSource</code> object.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec.sink</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to an object that resolves to a URI to use as the sink.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec.template</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>template</code> spec for the <code>ContainerSource</code> object.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec.ceOverrides</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines overrides to control the output format and modifications to the event sent to the sink.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Template parameter example</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">sources.knative.dev/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ContainerSource</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">test-heartbeats</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">quay.io/openshift-knative/heartbeats:latest</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">heartbeats</span>
          <span class="na">args</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">--period=1</span>
          <span class="na">env</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAME</span>
              <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mypod"</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">POD_NAMESPACE</span>
              <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">event-test"</span>
  <span class="s">...</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="serverless-containersource-reference-cloudevent-overrides_serverless-custom-event-sources"><a class="anchor" href="#serverless-containersource-reference-cloudevent-overrides_serverless-custom-event-sources"></a>CloudEvent overrides</h4>
<div class="paragraph">
<p>A <code>ceOverrides</code> definition provides overrides that control the CloudEvent&#8217;s output format and modifications sent to the sink. You can configure multiple fields for the <code>ceOverrides</code> definition.</p>
</div>
<div class="paragraph">
<p>A <code>ceOverrides</code> definition supports the following fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required or optional</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extensions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies which attributes are added or overridden on the outbound event. Each <code>extensions</code> key-value pair is set independently on the event as an attribute extension.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Only valid <code>CloudEvent</code> attribute names are allowed as extensions. You cannot set the spec defined attributes from the extensions override configuration. For example, you can not modify the <code>type</code> attribute.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">CloudEvent Overrides example</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">sources.knative.dev/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ContainerSource</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">test-heartbeats</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="s">...</span>
  <span class="s">ceOverrides</span><span class="pi">:</span>
    <span class="na">extensions</span><span class="pi">:</span>
      <span class="na">extra</span><span class="pi">:</span> <span class="s">this is an extra attribute</span>
      <span class="na">additional</span><span class="pi">:</span> <span class="s">42</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This sets the <code>K_CE_OVERRIDES</code> environment variable on the <code>subject</code>:</p>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">{ "extensions": { "extra": "this is an extra attribute", "additional": "42" } }</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/nav-tertiary.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/hc-search.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/page-loader.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/clipboard.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/collapsible.js" type="text/javascript"></script>
  <script>
  var dk = 'openshift-srvls';
  var version = '';

  var distros = {
    'openshift-origin': ['docs_origin', version],
    // specific labels are used for OSD instead of the URL filter, due to its unusual URL structure; assume v4
    'openshift-dedicated': ['docs_dedicated_v4'],
    'openshift-online': ['docs_online', version],
    'openshift-enterprise': ['docs_cp', version],
    'openshift-aro' : ['docs_aro', version],
    'openshift-rosa' : ['docs_rosa'],
    'openshift-acs' : ['docs_acs', version]
  };

  // only OSD v3 docs have the version variable specified
  if (dk == "openshift-dedicated" && version == "3") {
    distros['openshift-dedicated'] = ['docs_dedicated_v3']
  }

  distros[dk] ? hcSearchCategory.apply(null, distros[dk]) : hcSearchCategory("docs");
  </script>
  <script type="text/javascript">
  /*<![CDATA[*/
  $(document).ready(function() {
    $("[id^='topicGroup']").on('show.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicGroup']").on('hide.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });

    const collapsibleContent = document.getElementsByTagName("details");
    for (var i = 0; i < collapsibleContent.length; i++) {
      collapsibleContent[i].setAttribute("open", "");
    }

  });
  /*]]>*/
  </script>

  <footer id="rh">

    <div class="container">
        <div class="row">

            <div class="col-sm-2">
                <img src="https://assets.openshift.com/hubfs/images/logos/Logo-RedHat-A-Reverse-RGB.svg" class="img-fluid" alt="Red Hat" style="height: 30px;">
            </div>

            <div class="col-sm-3">
              <p class="text-nowrap">Copyright  2023 Red Hat, Inc.</p>
            </div>



            <div class="col">
                <nav class="nav">
                    <a target="_blank" href="https://www.redhat.com/en/about/privacy-policy" class="nav-link">Privacy statement</a>
                    <a target="_blank" href="https://www.openshift.com/legal/terms/" class="nav-link">Terms of use</a>
                    <a target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines" class="nav-link">All policies and guidelines</a>
                    <a id="teconsent"></a>
                </nav>
            </div>
        </div>
    </div>
</footer>
<div id="consent_blackbar" style="z-index: 100; position: fixed"></div>



<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->

  <!-- adjust page css based on breadcrumb and/or resize -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      }
    });

    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      } else if ($(window).width() < 1008) {
        sidebar.classList.remove('wide');
        document.querySelector('#hc-search').classList.remove('wide');
        if (sidebar.classList.contains('open')) {
          sidebar.style.display = 'block';
        } else {
          sidebar.style.display = 'none';
        }
        document.querySelector('.main').style.paddingTop = '0px';
      }
    });

    function adjustSide() {
      sidebar.classList.add('wide');
      document.querySelector('#hc-search').classList.add('wide');
      sidebar.style.display = 'block';
      document.querySelector('.sidebar').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 125), 10) + "px";
      document.querySelector('#hc-search').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 95), 10) + "px";
    }

    function adjustToc() {
      if (document.querySelector('#toc') !== null) {
        document.querySelector('#toc').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      }
    }

    function adjustMain() {
      document.querySelector('html').style.scrollPaddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      document.querySelector('.main').style.paddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight - 70), 10) + "px";
    }

  </script>

  <!-- remove toc active class when page is loaded -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      var tocItems = $("#toc a");

      for (let i = 0; i < tocItems.length; i++) {
        tocItems[i].classList.remove("toc-active");
      }
    })
  </script>

  <!-- maintain sidebar scroll position between page loads -->
  <script type="text/javascript">
    let sidebar = document.querySelector(".sidebar");
    let scrolltop = localStorage.getItem("sidebar-scroll");

    if (scrolltop == null) {
      sidebar.scrollTop = parseInt(top, 10);
    }

    window.addEventListener("beforeunload", () => {
      localStorage.setItem("sidebar-scroll", sidebar.scrollTop);
    });

    window.addEventListener('load', () => {
      sidebar.scrollTo(0, scrolltop)
    })
  </script>

  <!-- open/close the nav -->
  <script type="text/javascript">
    function closeNav() {
      let sidebar = document.querySelector(".sidebar");
      sidebar.style.display = "none";
      sidebar.classList.remove('open');
    }

    function openNav() {
      let sidebar = document.querySelector(".sidebar");
      let hc_search = document.querySelector('#hc-search');
      sidebar.style.display = "block";
      sidebar.style.top = "0px";
      hc_search.style.top = 'unset';
      sidebar.classList.add('open');
    }
  </script>

  <!-- clear and add toc-active to clicked toc link -->
  <script type="text/javascript">
  $("#toc a").click(function() {
    var tocItems = $("#toc a");
    for (let i = 0; i < tocItems.length; i++) {
      tocItems[i].classList.remove("toc-active");
    }
    this.classList.add("toc-active");
  });
  </script>

  <!-- update active toc class when mouse scrolls -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      window.addEventListener("wheel", () => {

        const ioConfiguration = {
          "rootMargin": "-120px 0px -400px 0px",
          "threshold": 0
        };

        const observer = new IntersectionObserver(setCurrent, ioConfiguration, entries => {
          entries.forEach(entry => {
            var id = entry.target.getAttribute('id');
            //fight with js
            document.querySelector(`#toc li a[href="#${id}"]`).classList.remove('toc-active');
          });
        });

        //track all h1-4 headings that have an id
        document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
          observer.observe(h);
        });

        //runs when the IntersectionObserver fires
        function setCurrent(e) {
          var allTocLinks = document.querySelectorAll("#toc li a");
          if (allTocLinks !== undefined) {
            e.map(i => {
              if (i.isIntersecting && i.intersectionRatio >= 1) {
                allTocLinks.forEach(link => link.classList.remove("toc-active"));
                document.querySelector(`#toc li a[href="#${i.target.id}"]`).classList.add('toc-active')
              }
            })
          }
        };

        //make clicked toc item active and stop IntersectionObserver
        $("#toc a").click(function() {
          //stop tracking all h1-4 headings that have an id
          document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
            observer.unobserve(h);
          });
          var tocItems = $("#toc a");
          if (tocItems !== undefined) {
            for (let i = 0; i < tocItems.length; i++) {
              tocItems[i].classList.remove("toc-active");
            };
            this.classList.add("toc-active");
          }
        })
      })
    })
  </script>

  <!--handle page scroll top and bottom, add toc-active -->
  <script type="text/javascript">
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active")
          };
          tocItems[tocItems.length - 1].classList.add("toc-active");
        };
      //scroll to top
      if(window.pageYOffset === 0) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active");
          };
          tocItems[0].classList.add("toc-active");
        };
      })
  </script>

  <!--adjust sidebar and toc when footer is displayed -->
  <script type="text/javascript">
    sidebar = document.querySelector('.sidebar')
    toc = document.querySelector('#toc')
    main = document.querySelector('.main')
    okd_footer = document.querySelector('.footer-origin-docs')

    //handle short pages
    if (window.innerHeight === document.documentElement.scrollHeight) {
      //sidebar
      if (sidebar !== null && okd_footer == null) {
        sidebar.style.marginBottom = "38px";
        main.style.marginBottom = "35px";
      };
      //okd sidebar
      if(sidebar !== null && okd_footer !== null) {
        sidebar.style.marginBottom = "176px";
        main.style.marginBottom = "135px";
      }
    };

    //handle scrolling pages
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if ($(window).width() >= 1008) {
        if(sidebar !== null) {
          //pages with multiple toc entries
          if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
              //sidebar
              if (sidebar !== null && okd_footer == null){
                sidebar.style.marginBottom = "38px";
                main.style.marginBottom = "35px";
              };
              //toc
              if (toc !== null && okd_footer == null){
                toc.style.bottom = "35px";
              };
              //okd sidebar
              if(sidebar !== null && okd_footer !== null) {
                sidebar.style.marginBottom = "176px";
                main.style.marginBottom = "135px";
              };
              //okd toc
              if (toc !== null && okd_footer !== null){
                toc.style.bottom = "175px";
              };
            };
          if(document.documentElement.scrollHeight != window.pageYOffset + window.innerHeight) {
            sidebar.style.marginBottom = "0px";
            if (toc !== null) {
              toc.style.bottom = "0px";
            }
          }
        }
      }
    })
  </script>

  <!-- adjust alerts on mobile -->
  <script type="text/javascript">
    alert = document.querySelector('#support-alert')
    window.addEventListener("wheel", () => {
      if ($(window).width() < 1008) {
        //adjust alert
        if(window.pageYOffset > 0) {
          if(alert !== null) {
            document.querySelector('#support-alert').style.position = "fixed";
            document.querySelector('#support-alert').style.bottom = "0px";
            document.querySelector('#support-alert').style.margin = "5px";
            document.querySelector('#support-alert').style.zIndex = "9999999";
          }
        }
      }
   });
    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        if(alert !== null) {
          document.querySelector('#support-alert').style.removeProperty('position');
          document.querySelector('#support-alert').style.removeProperty('bottom');
          document.querySelector('#support-alert').style.removeProperty('margin');
          document.querySelector('#support-alert').style.removeProperty('zIndex');
        }
      }
    })
  </script>

</body>
</html>