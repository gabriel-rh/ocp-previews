<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Installing Serverless</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Installing Serverless</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="preparing-serverless-install">Preparing to install OpenShift Serverless</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Read the following information about supported configurations and prerequisites before you install OpenShift Serverless.</p>
</div>
<div class="paragraph">
<p>For OpenShift Container Platform:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OpenShift Serverless is supported for installation in a restricted network environment.</p>
</li>
<li>
<p>OpenShift Serverless currently cannot be used in a multi-tenant configuration on a single cluster.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="about-serverless-supported-configs">Supported configurations</h3>
<div class="paragraph">
<p>The set of supported features, configurations, and integrations for OpenShift Serverless, current and past versions, are available at the <a href="https://access.redhat.com/articles/4912821">Supported Configurations page</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="about-serverless-scalability-performance">Scalability and performance on OpenShift Container Platform</h3>
<div class="paragraph">
<p>OpenShift Serverless has been tested with a configuration of 3 main nodes and 3 worker nodes, each of which has 64 CPUs, 457 GB of memory, and 394 GB of storage each.</p>
</div>
<div class="paragraph">
<p>The maximum number of Knative services that can be created using this configuration is 3,000. This corresponds to the <a href="https://docs.openshift.com/container-platform/latest/scalability_and_performance/planning-your-environment-according-to-object-maximums.html#cluster-maximums-major-releases_object-limits">OpenShift Container Platform Kubernetes services limit of 10,000</a>, since 1 Knative service creates 3 Kubernetes services.</p>
</div>
<div class="paragraph">
<p>The average scale from zero response time was approximately 3.4 seconds, with a maximum response time of 8 seconds, and a 99.9th percentile of 4.5 seconds for a simple Quarkus application. These times might vary depending on the application and the runtime of the application.</p>
</div>
<div id="install-serverless-operator-before-you-begin" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The following section on defining cluster size requirements applies to these distributions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OpenShift Container Platform</p>
</li>
<li>
<p>OpenShift Dedicated</p>
</li>
<li>
<p>Red Hat OpenShift Service on AWS</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="serverless-cluster-sizing-req_preparing-serverless-install">Defining cluster size requirements</h3>
<div class="paragraph">
<p>To install and use OpenShift Serverless, the cluster must be sized correctly.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The following requirements relate only to the pool of worker machines of the cluster. Control plane nodes are not used for general scheduling and are omitted from the requirements.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The minimum requirement to use OpenShift Serverless is a cluster with 10 CPUs and 40GB memory.
By default, each pod requests ~400m of CPU, so the minimum requirements are based on this value.</p>
</div>
<div class="paragraph">
<p>The total size requirements to run OpenShift Serverless are dependent on the components that are installed and the applications that are deployed, and might vary depending on your deployment.</p>
</div>
</div>
<div class="sect2">
<h3 id="install-serverless-operator-scaling-with-machinesets">Scaling your cluster using compute machine sets on OpenShift Container Platform</h3>
<div class="paragraph">
<p>You can use the OpenShift Container Platform <code>MachineSet</code> API to manually scale your cluster up to the desired size. The minimum requirements usually mean that you must scale up one of the default compute machine sets by two additional machines. See <a href="https://docs.openshift.com/container-platform/latest/machine_management/manually-scaling-machineset.html#manually-scaling-machineset">Manually scaling a compute machine set</a>.</p>
</div>
<div class="sect3">
<h4 id="serverless-cluster-sizing-req-additional_preparing-serverless-install">Additional requirements for advanced use-cases</h4>
<div class="paragraph">
<p>For more advanced use-cases such as logging or metering on OpenShift Container Platform, you must deploy more resources. Recommended requirements for such use-cases are 24 CPUs and 96GB of memory.</p>
</div>
<div class="paragraph">
<p>If you have high availability (HA) enabled on your cluster, this requires between 0.5 - 1.5 cores and between 200MB - 2GB of memory for each replica of the Knative Serving control plane.
HA is enabled for some Knative Serving components by default. You can disable HA by following the documentation on "Configuring high availability replicas".</p>
</div>
</div>
</div>
<div class="sect2 _additional-resources">
<h3 id="additional-resources_preparing-serverless-install">Additional resources in OpenShift Container Platform documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.openshift.com/container-platform/latest/operators/admin/olm-restricted-networks.html#olm-restricted-networks">Using Operator Lifecycle Manager on restricted networks</a></p>
</li>
<li>
<p><a href="https://docs.openshift.com/container-platform/latest/operators/understanding/olm-understanding-operatorhub.html#olm-operatorhub-overview">Understanding OperatorHub</a></p>
</li>
<li>
<p><a href="https://docs.openshift.com/container-platform/latest/installing/cluster-capabilities.html#cluster-capabilities">Cluster capabilities</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-serverless-operator">Installing the OpenShift Serverless Operator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installing the OpenShift Serverless Operator enables you to install and use Knative Serving, Knative Eventing, and the Knative broker for Apache Kafka on a OpenShift Container Platform cluster. The OpenShift Serverless Operator manages Knative custom resource definitions (CRDs) for your cluster and enables you to configure them without directly modifying individual config maps for each component.</p>
</div>
<div class="sect2">
<h3 id="serverless-install-web-console_install-serverless-operator">Installing the OpenShift Serverless Operator from the web console</h3>
<div class="paragraph">
<p>You can install the OpenShift Serverless Operator from the OperatorHub by using the OpenShift Container Platform web console. Installing this Operator enables you to install and use Knative components.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have cluster administrator permissions on OpenShift Container Platform, or you have cluster or dedicated administrator permissions on Red Hat OpenShift Service on AWS or OpenShift Dedicated.</p>
</li>
<li>
<p>For OpenShift Container Platform, your cluster has the Marketplace capability enabled or the Red Hat Operator catalog source configured manually.</p>
</li>
<li>
<p>You have logged in to the  web console.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the web console, navigate to the <strong>Operators</strong> &#8594; <strong>OperatorHub</strong> page.</p>
</li>
<li>
<p>Scroll, or type the keyword <strong>Serverless</strong> into the <strong>Filter by keyword</strong> box to find the OpenShift Serverless Operator.</p>
</li>
<li>
<p>Review the information about the Operator and click <strong>Install</strong>.</p>
</li>
<li>
<p>On the <strong>Install Operator</strong> page:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The <strong>Installation Mode</strong> is <strong>All namespaces on the cluster (default)</strong>. This mode installs the Operator in the default <code>openshift-serverless</code> namespace to watch and be made available to all namespaces in the cluster.</p>
</li>
<li>
<p>The <strong>Installed Namespace</strong> is <code>openshift-serverless</code>.</p>
</li>
<li>
<p>Select an <strong>Update Channel</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>The <strong>stable</strong> channel enables installation of the latest stable release of the OpenShift Serverless Operator. The <strong>stable</strong> channel is the default.</p>
</li>
<li>
<p>To install another version, specify the corresponding <strong>stable-x.y</strong> channel, for example <strong>stable-1.29</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Select the <strong>stable</strong> channel as the <strong>Update Channel</strong>. The <strong>stable</strong> channel will enable installation of the latest stable release of the OpenShift Serverless Operator.</p>
</li>
<li>
<p>Select <strong>Automatic</strong> or <strong>Manual</strong> approval strategy.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Install</strong> to make the Operator available to the selected namespaces on this OpenShift Container Platform cluster.</p>
</li>
<li>
<p>From the <strong>Catalog</strong> &#8594; <strong>Operator Management</strong> page, you can monitor the OpenShift Serverless Operator subscription&#8217;s installation and upgrade progress.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you selected a <strong>Manual</strong> approval strategy, the subscription&#8217;s upgrade status will remain <strong>Upgrading</strong> until you review and approve its install plan. After approving on the <strong>Install Plan</strong> page, the subscription upgrade status moves to <strong>Up to date</strong>.</p>
</li>
<li>
<p>If you selected an <strong>Automatic</strong> approval strategy, the upgrade status should resolve to <strong>Up to date</strong> without intervention.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>After the Subscription&#8217;s upgrade status is <strong>Up to date</strong>, select <strong>Catalog</strong> &#8594; <strong>Installed Operators</strong> to verify that the OpenShift Serverless Operator eventually shows up and its <strong>Status</strong> ultimately resolves to <strong>InstallSucceeded</strong> in the relevant namespace.</p>
</div>
<div class="paragraph">
<p>If it does not:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Switch to the <strong>Catalog</strong> &#8594; <strong>Operator Management</strong> page and inspect the <strong>Operator Subscriptions</strong> and <strong>Install Plans</strong> tabs for any failure or errors under <strong>Status</strong>.</p>
</li>
<li>
<p>Check the logs in any pods in the <code>openshift-serverless</code> project on the <strong>Workloads</strong> &#8594; <strong>Pods</strong> page that are reporting issues to troubleshoot further.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to <a href="https://access.redhat.com/documentation/en-us/red_hat_openshift_serverless/1.29/html-single/observability/#serverless-tracing">use Red Hat OpenShift distributed tracing with OpenShift Serverless</a>, you must install and configure Red Hat OpenShift distributed tracing before you install Knative Serving or Knative Eventing.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="serverless-install-cli_install-serverless-operator">Installing the OpenShift Serverless Operator from the CLI</h3>
<div class="paragraph">
<p>You can install the OpenShift Serverless Operator from the OperatorHub by using the CLI. Installing this Operator enables you to install and use Knative components.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have cluster administrator permissions on OpenShift Container Platform, or you have cluster or dedicated administrator permissions on Red Hat OpenShift Service on AWS or OpenShift Dedicated.</p>
</li>
<li>
<p>For OpenShift Container Platform, your cluster has the Marketplace capability enabled or the Red Hat Operator catalog source configured manually.</p>
</li>
<li>
<p>You have logged in to the cluster.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a YAML file containing <code>Namespace</code>, <code>OperatorGroup</code>, and <code>Subscription</code> objects to subscribe a namespace to the OpenShift Serverless Operator. For example, create the file <code>serverless-subscription.yaml</code> with the following content:</p>
<div class="listingblock">
<div class="title">Example subscription</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-yaml" data-lang="yaml">---
apiVersion: v1
kind: Namespace
metadata:
  name: openshift-serverless
---
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: serverless-operators
  namespace: openshift-serverless
spec: {}
---
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: serverless-operator
  namespace: openshift-serverless
spec:
  channel: stable <b class="conum">(1)</b>
  name: serverless-operator <b class="conum">(2)</b>
  source: redhat-operators <b class="conum">(3)</b>
  sourceNamespace: openshift-marketplace <b class="conum">(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The channel name of the Operator. The <code>stable</code> channel enables installation of the most recent stable version of the OpenShift Serverless Operator. To install another version, specify the corresponding <code>stable-x.y</code> channel, for example <code>stable-1.29</code>.</p>
</li>
<li>
<p>The name of the Operator to subscribe to. For the OpenShift Serverless Operator, this is always <code>serverless-operator</code>.</p>
</li>
<li>
<p>The name of the CatalogSource that provides the Operator. Use <code>redhat-operators</code> for the default OperatorHub catalog sources.</p>
</li>
<li>
<p>The namespace of the CatalogSource. Use <code>openshift-marketplace</code> for the default OperatorHub catalog sources.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Create the <code>Subscription</code> object:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc apply -f serverless-subscription.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Check that the cluster service version (CSV) has reached the <code>Succeeded</code> phase:</p>
</div>
<div class="listingblock">
<div class="title">Example command</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-yaml" data-lang="yaml">$ oc get csv</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-yaml" data-lang="yaml">NAME                          DISPLAY                        VERSION   REPLACES                      PHASE
serverless-operator.v1.25.0   Red Hat OpenShift Serverless   1.25.0    serverless-operator.v1.24.0   Succeeded</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to <a href="https://access.redhat.com/documentation/en-us/red_hat_openshift_serverless/1.29/html-single/observability/#serverless-tracing">use Red Hat OpenShift distributed tracing with OpenShift Serverless</a>, you must install and configure Red Hat OpenShift distributed tracing before you install Knative Serving or Knative Eventing.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="serverless-configuration">Global configuration</h3>
<div class="paragraph">
<p>The OpenShift Serverless Operator manages the global configuration of a Knative installation, including propagating values from the <code>KnativeServing</code> and <code>KnativeEventing</code> custom resources to system <a href="https://kubernetes.io/docs/concepts/configuration/configmap/">config maps</a>. Any updates to config maps which are applied manually are overwritten by the Operator. However, modifying the Knative custom resources allows you to set values for these config maps.</p>
</div>
<div class="paragraph">
<p>Knative has multiple config maps that are named with the prefix <code>config-</code>. All Knative config maps are created in the same namespace as the custom resource that they apply to. For example, if the <code>KnativeServing</code> custom resource is created in the <code>knative-serving</code> namespace, all Knative Serving config maps are also created in this namespace.</p>
</div>
<div class="paragraph">
<p>The <code>spec.config</code> in the Knative custom resources have one <code>&lt;name&gt;</code> entry for each config map, named <code>config-&lt;name&gt;</code>, with a value which is be used for the config map <code>data</code>.</p>
</div>
</div>
<div class="sect2 _additional-resources">
<h3 id="additional-resources_knative-serving-CR-config">Additional resources for OpenShift Container Platform</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.openshift.com/container-platform/latest/operators/understanding/crds/crd-managing-resources-from-crds.html">Managing resources from custom resource definitions</a></p>
</li>
<li>
<p><a href="https://docs.openshift.com/container-platform/latest/storage/understanding-persistent-storage.html#understanding-persistent-storage">Understanding persistent storage</a></p>
</li>
<li>
<p><a href="https://docs.openshift.com/container-platform/latest/networking/configuring-a-custom-pki.html">Configuring a custom PKI</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="next-steps_install-serverless-operator">Next steps</h3>
<div class="ulist">
<ul>
<li>
<p>After the OpenShift Serverless Operator is installed, you can <a href="#installing-knative-serving">install Knative Serving</a> or <a href="#installing-knative-eventing">install Knative Eventing</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-kn">Installing the Knative CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Knative (<code>kn</code>) CLI does not have its own login mechanism. To log in to the cluster, you must install the OpenShift CLI (<code>oc</code>) and use the <code>oc login</code> command. Installation options for the CLIs may vary depending on your operating system.</p>
</div>
<div class="paragraph">
<p>For more information on installing the OpenShift CLI (<code>oc</code>) for your operating system and logging in with <code>oc</code>, see the <a href="https://docs.openshift.com/container-platform/latest/cli_reference/openshift_cli/getting-started-cli.html#cli-getting-started">OpenShift CLI getting started</a> documentation.</p>
</div>
<div class="paragraph">
<p>OpenShift Serverless cannot be installed using the Knative (<code>kn</code>) CLI. A cluster administrator must install the OpenShift Serverless Operator and set up the Knative components, as described in the <a href="#install-serverless-operator">Installing the OpenShift Serverless Operator</a> documentation.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you try to use an older version of the Knative (<code>kn</code>) CLI with a newer OpenShift Serverless release, the API is not found and an error occurs.</p>
</div>
<div class="paragraph">
<p>For example, if you use the 1.23.0 release of the Knative (<code>kn</code>) CLI, which uses version 1.2, with the 1.24.0 OpenShift Serverless release, which uses the 1.3 versions of the Knative Serving and Knative Eventing APIs, the CLI does not work because it continues to look for the outdated 1.2 API versions.</p>
</div>
<div class="paragraph">
<p>Ensure that you are using the latest Knative (<code>kn</code>) CLI version for your OpenShift Serverless release to avoid issues.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="installing-cli-web-console_installing-kn">Installing the Knative CLI using the OpenShift Container Platform web console</h3>
<div class="paragraph">
<p>Using the OpenShift Container Platform web console provides a streamlined and intuitive user interface to install the Knative (<code>kn</code>) CLI. After the OpenShift Serverless Operator is installed, you will see a link to download the Knative (<code>kn</code>) CLI for Linux (amd64, s390x, ppc64le), macOS, or Windows from the <strong>Command Line Tools</strong> page in the OpenShift Container Platform web console.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have logged in to the OpenShift Container Platform web console.</p>
</li>
<li>
<p>The OpenShift Serverless Operator and Knative Serving are installed on your OpenShift Container Platform cluster.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If <strong>libc</strong> is not available, you might see the following error when you run CLI commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ kn: No such file or directory</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If you want to use the verification steps for this procedure, you must install the OpenShift (<code>oc</code>) CLI.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the Knative (<code>kn</code>) CLI from the <strong>Command Line Tools</strong> page. You can access the <strong>Command Line Tools</strong> page by clicking the <span class="image"><img src="images/question-circle.png" alt="question circle" title="Help"></span> icon in the top right corner of the web console and selecting <strong>Command Line Tools</strong> in the list.</p>
</li>
<li>
<p>Unpack the archive:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ tar -xf &lt;file&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Move the <code>kn</code> binary to a directory on your <code>PATH</code>.</p>
</li>
<li>
<p>To check your <code>PATH</code>, run:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ echo $PATH</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Run the following commands to check that the correct Knative CLI resources and route have been created:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc get ConsoleCLIDownload</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">NAME                  DISPLAY NAME                                             AGE
kn                    kn - OpenShift Serverless Command Line Interface (CLI)   2022-09-20T08:41:18Z
oc-cli-downloads      oc - OpenShift Command Line Interface (CLI)              2022-09-20T08:00:20Z</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc get route -n openshift-serverless</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">NAME   HOST/PORT                                  PATH   SERVICES                      PORT       TERMINATION     WILDCARD
kn     kn-openshift-serverless.apps.example.com          knative-openshift-metrics-3   http-cli   edge/Redirect   None</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="serverless-installing-cli-linux-rpm-package-manager_installing-kn">Installing the Knative CLI for Linux by using an RPM package manager</h3>
<div class="paragraph">
<p>For Red Hat Enterprise Linux (RHEL), you can install the Knative (<code>kn</code>) CLI as an RPM by using a package manager, such as <code>yum</code> or <code>dnf</code>. This allows the Knative CLI version to be automatically managed by the system. For example, using a command like <code>dnf upgrade</code> upgrades all packages, including <code>kn</code>, if a new version is available.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an active OpenShift Container Platform subscription on your Red Hat account.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Register with Red Hat Subscription Manager:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># subscription-manager register</code></pre>
</div>
</div>
</li>
<li>
<p>Pull the latest subscription data:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># subscription-manager refresh</code></pre>
</div>
</div>
</li>
<li>
<p>Attach the subscription to the registered system:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># subscription-manager attach --pool=&lt;pool_id&gt; <b class="conum">(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Pool ID for an active OpenShift Container Platform subscription</p>
</li>
</ol>
</div>
</li>
<li>
<p>Enable the repositories required by the Knative (<code>kn</code>) CLI:</p>
<div class="ulist">
<ul>
<li>
<p>Linux (x86_64, amd64)</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># subscription-manager repos --enable="openshift-serverless-1-for-rhel-8-x86_64-rpms"</code></pre>
</div>
</div>
</li>
<li>
<p>Linux on IBM zSystems and IBM&#174; LinuxONE (s390x)</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># subscription-manager repos --enable="openshift-serverless-1-for-rhel-8-s390x-rpms"</code></pre>
</div>
</div>
</li>
<li>
<p>Linux on IBM Power (ppc64le)</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># subscription-manager repos --enable="openshift-serverless-1-for-rhel-8-ppc64le-rpms"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Install the Knative (<code>kn</code>) CLI as an RPM by using a package manager:</p>
<div class="listingblock">
<div class="title">Example <code>yum</code> command</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># yum install openshift-serverless-clients</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-locking-version-for-cli-installed-with-rpm-package-manager_installing-kn">Locking version for the Knative CLI installed with RPM package manager</h3>
<div class="paragraph">
<p>You might require to use Knative (<code>kn</code>) CLI version that is not the most recent, but is in Maintenance Phase. You can achieve that by locking the version of <code>kn</code>, which prevents it from being upgraded.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Install the <code>versionlock</code> plugin for the DNF package manager:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># dnf install 'dnf-command(versionlock)'</code></pre>
</div>
</div>
</li>
<li>
<p>Lock the version of <code>kn</code> by running:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># dnf versionlock add --raw 'openshift-serverless-clients-1.7.*'</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command locks <code>kn</code> to be the version based on Knative 1.7, which is in Maintenance Phase at the time of release of OpenShift Serverless 1.29.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-upgrading-cli-with-locked-version_installing-kn">Upgrading the Knative CLI with locked version</h3>
<div class="paragraph">
<p>You can manually upgrade the Knative (<code>kn</code>) CLI version that has previously been version-locked.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Check whether upgraded packages are available:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># dnf search --showduplicates openshift-serverless-clients</code></pre>
</div>
</div>
</li>
<li>
<p>Remove the version lock of <code>kn</code>:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf versionlock delete openshift-serverless-clients</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Lock <code>kn</code> to the new version:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf versionlock add --raw 'openshift-serverless-clients-1.8.*'</pre>
</div>
</div>
<div class="paragraph">
<p>+
This example uses the <code>kn</code> version that is based on Knative 1.8.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Upgrade to the new available version:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal"># dnf install --upgrade openshift-serverless-clients</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="installing-cli-linux_installing-kn">Installing the Knative CLI for Linux</h3>
<div class="paragraph">
<p>If you are using a Linux distribution that does not have RPM or another package manager installed, you can install the Knative (<code>kn</code>) CLI as a binary file. To do this, you must download and unpack a <code>tar.gz</code> archive and add the binary to a directory on your <code>PATH</code>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>If you are not using RHEL or Fedora, ensure that <strong>libc</strong> is installed in a directory on your library path.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If <strong>libc</strong> is not available, you might see the following error when you run CLI commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ kn: No such file or directory</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the relevant Knative (<code>kn</code>) CLI <code>tar.gz</code> archive:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/latest/kn-linux-amd64.tar.gz">Linux (x86_64, amd64)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/latest/kn-linux-s390x.tar.gz">Linux on IBM zSystems and IBM&#174; LinuxONE (s390x)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/latest/kn-linux-ppc64le.tar.gz">Linux on IBM Power (ppc64le)</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>You can also download any version of <code>kn</code> by navigating to that version&#8217;s corresponding directory in the <a href="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/">Serverless client download mirror</a>.</p>
</div>
</li>
<li>
<p>Unpack the archive:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ tar -xf &lt;filename&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Move the <code>kn</code> binary to a directory on your <code>PATH</code>.</p>
</li>
<li>
<p>To check your <code>PATH</code>, run:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ echo $PATH</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-installing-cli-macos_installing-kn">Installing the Knative CLI for macOS</h3>
<div class="paragraph">
<p>If you are using macOS, you can install the Knative (<code>kn</code>) CLI as a binary file. To do this, you must download and unpack a <code>tar.gz</code> archive and add the binary to a directory on your <code>PATH</code>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the <a href="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/latest/kn-macos-amd64.tar.gz">Knative (<code>kn</code>) CLI <code>tar.gz</code> archive</a>.</p>
<div class="paragraph">
<p>You can also download any version of <code>kn</code> by navigating to that version&#8217;s corresponding directory in the <a href="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/">Serverless client download mirror</a>.</p>
</div>
</li>
<li>
<p>Unpack and extract the archive.</p>
</li>
<li>
<p>Move the <code>kn</code> binary to a directory on your <code>PATH</code>.</p>
</li>
<li>
<p>To check your <code>PATH</code>, open a terminal window and run:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ echo $PATH</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="installing-cli-windows_installing-kn">Installing the Knative CLI for Windows</h3>
<div class="paragraph">
<p>If you are using Windows, you can install the Knative (<code>kn</code>) CLI as a binary file. To do this, you must download and unpack a ZIP archive and add the binary to a directory on your <code>PATH</code>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the <a href="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/latest/kn-windows-amd64.zip">Knative (<code>kn</code>) CLI ZIP archive</a>.</p>
<div class="paragraph">
<p>You can also download any version of <code>kn</code> by navigating to that version&#8217;s corresponding directory in the <a href="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/">Serverless client download mirror</a>.</p>
</div>
</li>
<li>
<p>Extract the archive with a ZIP program.</p>
</li>
<li>
<p>Move the <code>kn</code> binary to a directory on your <code>PATH</code>.</p>
</li>
<li>
<p>To check your <code>PATH</code>, open the command prompt and run the command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">C:\&gt; path</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-knative-serving">Installing Knative Serving</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installing Knative Serving allows you to create Knative services and functions on your cluster. It also allows you to use additional functionality such as autoscaling and networking options for your applications.</p>
</div>
<div class="paragraph">
<p>After you install the OpenShift Serverless Operator, you can install Knative Serving by using the default settings, or configure more advanced settings in the <code>KnativeServing</code> custom resource (CR). For more information about configuration options for the <code>KnativeServing</code> CR, see <a href="#serverless-configuration">Global configuration</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to <a href="https://access.redhat.com/documentation/en-us/red_hat_openshift_serverless/1.29/html-single/observability/#serverless-tracing">use Red Hat OpenShift distributed tracing with OpenShift Serverless</a>, you must install and configure Red Hat OpenShift distributed tracing before you install Knative Serving.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="serverless-install-serving-web-console_installing-knative-serving">Installing Knative Serving by using the web console</h3>
<div class="paragraph">
<p>After you install the OpenShift Serverless Operator, install Knative Serving by using the OpenShift Container Platform web console. You can install Knative Serving by using the default settings or configure more advanced settings in the <code>KnativeServing</code> custom resource (CR).</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have cluster administrator permissions on OpenShift Container Platform, or you have cluster or dedicated administrator permissions on Red Hat OpenShift Service on AWS or OpenShift Dedicated.</p>
</li>
<li>
<p>You have logged in to the OpenShift Container Platform web console.</p>
</li>
<li>
<p>You have installed the OpenShift Serverless Operator.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Administrator</strong> perspective of the OpenShift Container Platform web console, navigate to <strong>Operators</strong> &#8594; <strong>Installed Operators</strong>.</p>
</li>
<li>
<p>Check that the <strong>Project</strong> dropdown at the top of the page is set to <strong>Project: knative-serving</strong>.</p>
</li>
<li>
<p>Click <strong>Knative Serving</strong> in the list of <strong>Provided APIs</strong> for the OpenShift Serverless Operator to go to the <strong>Knative Serving</strong> tab.</p>
</li>
<li>
<p>Click <strong>Create Knative Serving</strong>.</p>
</li>
<li>
<p>In the <strong>Create Knative Serving</strong> page, you can install Knative Serving using the default settings by clicking <strong>Create</strong>.</p>
<div class="paragraph">
<p>You can also modify settings for the Knative Serving installation by editing the <code>KnativeServing</code> object using either the form provided, or by editing the YAML.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using the form is recommended for simpler configurations that do not require full control of <code>KnativeServing</code> object creation.</p>
</li>
<li>
<p>Editing the YAML is recommended for more complex configurations that require full control of <code>KnativeServing</code> object creation. You can access the YAML by clicking the <strong>edit YAML</strong> link in the top right of the <strong>Create Knative Serving</strong> page.</p>
<div class="paragraph">
<p>After you complete the form, or have finished modifying the YAML, click <strong>Create</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>For more information about configuration options for the KnativeServing custom resource definition, see the documentation on <em>Advanced installation configuration options</em>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>After you have installed Knative Serving, the <code>KnativeServing</code> object is created, and you are automatically directed to the <strong>Knative Serving</strong> tab. You will see the <code>knative-serving</code> custom resource in the list of resources.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Click on <code>knative-serving</code> custom resource in the <strong>Knative Serving</strong> tab.</p>
</li>
<li>
<p>You will be automatically directed to the <strong>Knative Serving Overview</strong> page.</p>
<div class="imageblock">
<div class="content">
<img src="images/serving-overview.png" alt="Installed Operators page">
</div>
</div>
</li>
<li>
<p>Scroll down to look at the list of <strong>Conditions</strong>.</p>
</li>
<li>
<p>You should see a list of conditions with a status of <strong>True</strong>, as shown in the example image.</p>
<div class="imageblock">
<div class="content">
<img src="images/serving-conditions-true.png" alt="Conditions">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>It may take a few seconds for the Knative Serving resources to be created. You can check their status in the <strong>Resources</strong> tab.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If the conditions have a status of <strong>Unknown</strong> or <strong>False</strong>, wait a few moments and then check again after you have confirmed that the resources have been created.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-install-serving-yaml_installing-knative-serving">Installing Knative Serving by using YAML</h3>
<div class="paragraph">
<p>After you install the OpenShift Serverless Operator, you can install Knative Serving by using the default settings, or configure more advanced settings in the <code>KnativeServing</code> custom resource (CR). You can use the following procedure to install Knative Serving by using YAML files and the <code>oc</code> CLI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have cluster administrator permissions on OpenShift Container Platform, or you have cluster or dedicated administrator permissions on Red Hat OpenShift Service on AWS or OpenShift Dedicated.</p>
</li>
<li>
<p>You have installed the OpenShift Serverless Operator.</p>
</li>
<li>
<p>Install the OpenShift CLI (<code>oc</code>).</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a file named <code>serving.yaml</code> and copy the following example YAML into it:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-yaml" data-lang="yaml">apiVersion: operator.knative.dev/v1beta1
kind: KnativeServing
metadata:
    name: knative-serving
    namespace: knative-serving</code></pre>
</div>
</div>
</li>
<li>
<p>Apply the <code>serving.yaml</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc apply -f serving.yaml</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>To verify the installation is complete, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc get knativeserving.operator.knative.dev/knative-serving -n knative-serving --template='{{range .status.conditions}}{{printf "%s=%s\n" .type .status}}{{end}}'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">DependenciesInstalled=True
DeploymentsAvailable=True
InstallSucceeded=True
Ready=True</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>It may take a few seconds for the Knative Serving resources to be created.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the conditions have a status of <code>Unknown</code> or <code>False</code>, wait a few moments and then check again after you have confirmed that the resources have been created.</p>
</div>
</li>
<li>
<p>Check that the Knative Serving resources have been created:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc get pods -n knative-serving</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">NAME                                                        READY   STATUS      RESTARTS   AGE
activator-67ddf8c9d7-p7rm5                                  2/2     Running     0          4m
activator-67ddf8c9d7-q84fz                                  2/2     Running     0          4m
autoscaler-5d87bc6dbf-6nqc6                                 2/2     Running     0          3m59s
autoscaler-5d87bc6dbf-h64rl                                 2/2     Running     0          3m59s
autoscaler-hpa-77f85f5cc4-lrts7                             2/2     Running     0          3m57s
autoscaler-hpa-77f85f5cc4-zx7hl                             2/2     Running     0          3m56s
controller-5cfc7cb8db-nlccl                                 2/2     Running     0          3m50s
controller-5cfc7cb8db-rmv7r                                 2/2     Running     0          3m18s
domain-mapping-86d84bb6b4-r746m                             2/2     Running     0          3m58s
domain-mapping-86d84bb6b4-v7nh8                             2/2     Running     0          3m58s
domainmapping-webhook-769d679d45-bkcnj                      2/2     Running     0          3m58s
domainmapping-webhook-769d679d45-fff68                      2/2     Running     0          3m58s
storage-version-migration-serving-serving-0.26.0--1-6qlkb   0/1     Completed   0          3m56s
webhook-5fb774f8d8-6bqrt                                    2/2     Running     0          3m57s
webhook-5fb774f8d8-b8lt5                                    2/2     Running     0          3m57s</code></pre>
</div>
</div>
</li>
<li>
<p>Check that the necessary networking components have been installed to the automatically created <code>knative-serving-ingress</code> namespace:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc get pods -n knative-serving-ingress</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">NAME                                      READY   STATUS    RESTARTS   AGE
net-kourier-controller-7d4b6c5d95-62mkf   1/1     Running   0          76s
net-kourier-controller-7d4b6c5d95-qmgm2   1/1     Running   0          76s
3scale-kourier-gateway-6688b49568-987qz   1/1     Running   0          75s
3scale-kourier-gateway-6688b49568-b5tnp   1/1     Running   0          75s</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="next-steps_installing-knative-serving">Next steps</h3>
<div class="ulist">
<ul>
<li>
<p>If you want to use Knative event-driven architecture you can <a href="#installing-knative-eventing">install Knative Eventing</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-knative-eventing">Installing Knative Eventing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use event-driven architecture on your cluster, install Knative Eventing. You can create Knative components such as event sources, brokers, and channels and then use them to send events to applications or external systems.</p>
</div>
<div class="paragraph">
<p>After you install the OpenShift Serverless Operator, you can install Knative Eventing by using the default settings, or configure more advanced settings in the <code>KnativeEventing</code> custom resource (CR). For more information about configuration options for the <code>KnativeEventing</code> CR, see <a href="#serverless-configuration">Global configuration</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to <a href="https://access.redhat.com/documentation/en-us/red_hat_openshift_serverless/1.29/html-single/observability/#serverless-tracing">use Red Hat OpenShift distributed tracing with OpenShift Serverless</a>, you must install and configure Red Hat OpenShift distributed tracing before you install Knative Eventing.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="serverless-install-eventing-web-console_installing-knative-eventing">Installing Knative Eventing by using the web console</h3>
<div class="paragraph">
<p>After you install the OpenShift Serverless Operator, install Knative Eventing by using the OpenShift Container Platform web console. You can install Knative Eventing by using the default settings or configure more advanced settings in the <code>KnativeEventing</code> custom resource (CR).</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have cluster administrator permissions on OpenShift Container Platform, or you have cluster or dedicated administrator permissions on Red Hat OpenShift Service on AWS or OpenShift Dedicated.</p>
</li>
<li>
<p>You have logged in to the OpenShift Container Platform web console.</p>
</li>
<li>
<p>You have installed the OpenShift Serverless Operator.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Administrator</strong> perspective of the OpenShift Container Platform web console, navigate to <strong>Operators</strong>  <strong>Installed Operators</strong>.</p>
</li>
<li>
<p>Check that the <strong>Project</strong> dropdown at the top of the page is set to <strong>Project: knative-eventing</strong>.</p>
</li>
<li>
<p>Click <strong>Knative Eventing</strong> in the list of <strong>Provided APIs</strong> for the OpenShift Serverless Operator to go to the <strong>Knative Eventing</strong> tab.</p>
</li>
<li>
<p>Click <strong>Create Knative Eventing</strong>.</p>
</li>
<li>
<p>In the <strong>Create Knative Eventing</strong> page, you can choose to configure the <code>KnativeEventing</code> object by using either the default form provided, or by editing the YAML.</p>
<div class="ulist">
<ul>
<li>
<p>Using the form is recommended for simpler configurations that do not require full control of <code>KnativeEventing</code> object creation.</p>
<div class="paragraph">
<p>Optional. If you are configuring the <code>KnativeEventing</code> object using the form, make any changes that you want to implement for your Knative Eventing deployment.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Editing the YAML is recommended for more complex configurations that require full control of <code>KnativeEventing</code> object creation. You can access the YAML by clicking the <strong>edit YAML</strong> link in the top right of the <strong>Create Knative Eventing</strong> page.</p>
<div class="paragraph">
<p>Optional. If you are configuring the <code>KnativeEventing</code> object by editing the YAML, make any changes to the YAML that you want to implement for your Knative Eventing deployment.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>After you have installed Knative Eventing, the <code>KnativeEventing</code> object is created, and you are automatically directed to the <strong>Knative Eventing</strong> tab. You will see the <code>knative-eventing</code> custom resource in the list of resources.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Click on the <code>knative-eventing</code> custom resource in the <strong>Knative Eventing</strong> tab.</p>
</li>
<li>
<p>You are automatically directed to the <strong>Knative Eventing Overview</strong> page.</p>
<div class="imageblock">
<div class="content">
<img src="images/eventing-overview.png" alt="Knative Eventing Overview page">
</div>
</div>
</li>
<li>
<p>Scroll down to look at the list of <strong>Conditions</strong>.</p>
</li>
<li>
<p>You should see a list of conditions with a status of <strong>True</strong>, as shown in the example image.</p>
<div class="imageblock">
<div class="content">
<img src="images/eventing-conditions-true.png" alt="Conditions">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>It may take a few seconds for the Knative Eventing resources to be created. You can check their status in the <strong>Resources</strong> tab.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If the conditions have a status of <strong>Unknown</strong> or <strong>False</strong>, wait a few moments and then check again after you have confirmed that the resources have been created.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-install-eventing-yaml_installing-knative-eventing">Installing Knative Eventing by using YAML</h3>
<div class="paragraph">
<p>After you install the OpenShift Serverless Operator, you can install Knative Eventing by using the default settings, or configure more advanced settings in the <code>KnativeEventing</code> custom resource (CR). You can use the following procedure to install Knative Eventing by using YAML files and the <code>oc</code> CLI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have cluster administrator permissions on OpenShift Container Platform, or you have cluster or dedicated administrator permissions on Red Hat OpenShift Service on AWS or OpenShift Dedicated.</p>
</li>
<li>
<p>You have installed the OpenShift Serverless Operator.</p>
</li>
<li>
<p>Install the OpenShift CLI (<code>oc</code>).</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a file named <code>eventing.yaml</code>.</p>
</li>
<li>
<p>Copy the following sample YAML into <code>eventing.yaml</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-yaml" data-lang="yaml">apiVersion: operator.knative.dev/v1beta1
kind: KnativeEventing
metadata:
    name: knative-eventing
    namespace: knative-eventing</code></pre>
</div>
</div>
</li>
<li>
<p>Optional. Make any changes to the YAML that you want to implement for your Knative Eventing deployment.</p>
</li>
<li>
<p>Apply the <code>eventing.yaml</code> file by entering:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc apply -f eventing.yaml</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Verify the installation is complete by entering the following command and observing the output:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc get knativeeventing.operator.knative.dev/knative-eventing \
  -n knative-eventing \
  --template='{{range .status.conditions}}{{printf "%s=%s\n" .type .status}}{{end}}'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">InstallSucceeded=True
Ready=True</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>It may take a few seconds for the Knative Eventing resources to be created.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If the conditions have a status of <code>Unknown</code> or <code>False</code>, wait a few moments and then check again after you have confirmed that the resources have been created.</p>
</li>
<li>
<p>Check that the Knative Eventing resources have been created by entering:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc get pods -n knative-eventing</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">NAME                                   READY   STATUS    RESTARTS   AGE
broker-controller-58765d9d49-g9zp6     1/1     Running   0          7m21s
eventing-controller-65fdd66b54-jw7bh   1/1     Running   0          7m31s
eventing-webhook-57fd74b5bd-kvhlz      1/1     Running   0          7m31s
imc-controller-5b75d458fc-ptvm2        1/1     Running   0          7m19s
imc-dispatcher-64f6d5fccb-kkc4c        1/1     Running   0          7m18s</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-install-kafka-odc_installing-knative-eventing">Installing Knative broker for Apache Kafka</h3>
<div class="paragraph">
<p>The Knative broker implementation for Apache Kafka provides integration options for you to use supported versions of the Apache Kafka message streaming platform with OpenShift Serverless. Knative broker for Apache Kafka functionality is available in an OpenShift Serverless installation if you have installed the <code>KnativeKafka</code> custom resource.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed the OpenShift Serverless Operator and Knative Eventing on your cluster.</p>
</li>
<li>
<p>You have access to a Red Hat AMQ Streams cluster.</p>
</li>
<li>
<p>Install the OpenShift CLI (<code>oc</code>) if you want to use the verification steps.</p>
</li>
<li>
<p>You have cluster administrator permissions on OpenShift Container Platform, or you have cluster or dedicated administrator permissions on Red Hat OpenShift Service on AWS or OpenShift Dedicated.</p>
</li>
<li>
<p>You are logged in to the OpenShift Container Platform web console.
.Procedure</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Administrator</strong> perspective, navigate to <strong>Operators</strong> &#8594; <strong>Installed Operators</strong>.</p>
</li>
<li>
<p>Check that the <strong>Project</strong> dropdown at the top of the page is set to <strong>Project: knative-eventing</strong>.</p>
</li>
<li>
<p>In the list of <strong>Provided APIs</strong> for the OpenShift Serverless Operator, find the <strong>Knative Kafka</strong> box and click <strong>Create Instance</strong>.</p>
</li>
<li>
<p>Configure the <strong>KnativeKafka</strong> object in the <strong>Create Knative Kafka</strong> page.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>To use the Kafka channel, source, broker, or sink on your cluster, you must toggle the <strong>enabled</strong> switch for the options you want to use to <strong>true</strong>. These switches are set to <strong>false</strong> by default. Additionally, to use the Kafka channel, broker, or sink you must specify the bootstrap servers.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example <code>KnativeKafka</code> custom resource</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-yaml" data-lang="yaml">apiVersion: operator.serverless.openshift.io/v1alpha1
kind: KnativeKafka
metadata:
    name: knative-kafka
    namespace: knative-eventing
spec:
    channel:
        enabled: true <b class="conum">(1)</b>
        bootstrapServers: &lt;bootstrap_servers&gt; <b class="conum">(2)</b>
    source:
        enabled: true <b class="conum">(3)</b>
    broker:
        enabled: true <b class="conum">(4)</b>
        defaultConfig:
            bootstrapServers: &lt;bootstrap_servers&gt; <b class="conum">(5)</b>
            numPartitions: &lt;num_partitions&gt; <b class="conum">(6)</b>
            replicationFactor: &lt;replication_factor&gt; <b class="conum">(7)</b>
    sink:
        enabled: true <b class="conum">(8)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enables developers to use the <code>KafkaChannel</code> channel type in the cluster.</p>
</li>
<li>
<p>A comma-separated list of bootstrap servers from your AMQ Streams cluster.</p>
</li>
<li>
<p>Enables developers to use the <code>KafkaSource</code> event source type in the cluster.</p>
</li>
<li>
<p>Enables developers to use the Knative broker implementation for Apache Kafka in the cluster.</p>
</li>
<li>
<p>A comma-separated list of bootstrap servers from your Red Hat AMQ Streams cluster.</p>
</li>
<li>
<p>Defines the number of partitions of the Kafka topics, backed by the <code>Broker</code> objects. The default is <code>10</code>.</p>
</li>
<li>
<p>Defines the replication factor of the Kafka topics, backed by the <code>Broker</code> objects. The default is <code>3</code>.</p>
</li>
<li>
<p>Enables developers to use a Kafka sink in the cluster.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>replicationFactor</code> value must be less than or equal to the number of nodes of your Red Hat AMQ Streams cluster.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Using the form is recommended for simpler configurations that do not require full control of <strong>KnativeKafka</strong> object creation.</p>
</li>
<li>
<p>Editing the YAML is recommended for more complex configurations that require full control of <strong>KnativeKafka</strong> object creation. You can access the YAML by clicking the <strong>Edit YAML</strong> link in the top right of the <strong>Create Knative Kafka</strong> page.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Create</strong> after you have completed any of the optional configurations for Kafka. You are automatically directed to the <strong>Knative Kafka</strong> tab where <strong>knative-kafka</strong> is in the list of resources.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Click on the <strong>knative-kafka</strong> resource in the <strong>Knative Kafka</strong> tab. You are automatically directed to the <strong>Knative Kafka Overview</strong> page.</p>
</li>
<li>
<p>View the list of <strong>Conditions</strong> for the resource and confirm that they have a status of <strong>True</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="images/knative-kafka-overview.png" alt="Kafka Knative Overview page showing Conditions">
</div>
</div>
<div class="paragraph">
<p>If the conditions have a status of <strong>Unknown</strong> or <strong>False</strong>, wait a few moments to refresh the page.</p>
</div>
</li>
<li>
<p>Check that the Knative broker for Apache Kafka resources have been created:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc get pods -n knative-eventing</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">NAME                                        READY   STATUS    RESTARTS   AGE
kafka-broker-dispatcher-7769fbbcbb-xgffn    2/2     Running   0          44s
kafka-broker-receiver-5fb56f7656-fhq8d      2/2     Running   0          44s
kafka-channel-dispatcher-84fd6cb7f9-k2tjv   2/2     Running   0          44s
kafka-channel-receiver-9b7f795d5-c76xr      2/2     Running   0          44s
kafka-controller-6f95659bf6-trd6r           2/2     Running   0          44s
kafka-source-dispatcher-6bf98bdfff-8bcsn    2/2     Running   0          44s
kafka-webhook-eventing-68dc95d54b-825xs     2/2     Running   0          44s</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="next-steps_installing-knative-eventing">Next steps</h3>
<div class="ulist">
<ul>
<li>
<p>If you want to use Knative services you can <a href="#installing-knative-serving">install Knative Serving</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="serverless-kafka-admin">Configuring Knative broker for Apache Kafka</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Knative broker implementation for Apache Kafka provides integration options for you to use supported versions of the Apache Kafka message streaming platform with OpenShift Serverless. Kafka provides options for event source, channel, broker, and event sink capabilities.</p>
</div>
<div class="paragraph">
<p>In addition to the Knative Eventing components that are provided as part of a core OpenShift Serverless installation, the <code>KnativeKafka</code> custom resource (CR) can be installed by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cluster administrators, for OpenShift Container Platform</p>
</li>
<li>
<p>Cluster or dedicated administrators, for Red Hat OpenShift Service on AWS or for OpenShift Dedicated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>KnativeKafka</code> CR provides users with additional options, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Kafka source</p>
</li>
<li>
<p>Kafka channel</p>
</li>
<li>
<p>Kafka broker</p>
</li>
<li>
<p>Kafka sink</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="kube-rbac-proxy-kafka">Configuring kube-rbac-proxy for Knative for Apache Kafka</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>kube-rbac-proxy</code> component provides internal authentication and authorization capabilities for Knative for Apache Kafka.</p>
</div>
<div class="sect2">
<h3 id="serverless-configuring-kube-rbac-proxy-resources-for-kafka_kube-rbac-proxy-kafka">Configuring kube-rbac-proxy resources for Knative for Apache Kafka</h3>
<div class="paragraph">
<p>You can globally override resource allocation for the <code>kube-rbac-proxy</code> container by using the OpenShift Serverless Operator CR.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">You can also override resource allocation for a specific deployment.</pre>
</div>
</div>
<div class="paragraph">
<p>The following configuration sets Knative Kafka <code>kube-rbac-proxy</code> minimum and maximum CPU and memory allocation:</p>
</div>
<div class="listingblock">
<div class="title">KnativeKafka CR example</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-yaml" data-lang="yaml">apiVersion: operator.serverless.openshift.io/v1alpha1
kind: KnativeKafka
metadata:
  name: knative-kafka
  namespace: knative-kafka
spec:
  config:
    workload:
      "kube-rbac-proxy-cpu-request": "10m" <b class="conum">(1)</b>
      "kube-rbac-proxy-memory-request": "20Mi" <b class="conum">(2)</b>
      "kube-rbac-proxy-cpu-limit": "100m" <b class="conum">(3)</b>
      "kube-rbac-proxy-memory-limit": "100Mi" <b class="conum">(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Sets minimum CPU allocation.</p>
</li>
<li>
<p>Sets minimum RAM allocation.</p>
</li>
<li>
<p>Sets maximum CPU allocation.</p>
</li>
<li>
<p>Sets maximum RAM allocation.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-serverless-functions">Configuring OpenShift Serverless Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To improve the process of deployment of your application code, you can use OpenShift Serverless to deploy stateless, event-driven functions as a Knative service on OpenShift Container Platform. If you want to develop functions, you must complete the set up steps.</p>
</div>
<div class="sect2">
<h3 id="prerequisites_configuring-serverless-functions">Prerequisites</h3>
<div class="paragraph">
<p>To enable the use of OpenShift Serverless Functions on your cluster, you must complete the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The OpenShift Serverless Operator and Knative Serving are installed on your cluster.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Functions are deployed as a Knative service. If you want to use event-driven architecture with your functions, you must also install Knative Eventing.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>You have the <a href="https://docs.openshift.com/container-platform/latest/cli_reference/openshift_cli/getting-started-cli.html#cli-getting-started"><code>oc</code> CLI</a> installed.</p>
</li>
<li>
<p>You have the <a href="#installing-kn">Knative (<code>kn</code>) CLI</a> installed. Installing the Knative CLI enables the use of <code>kn func</code> commands which you can use to create and manage functions.</p>
</li>
<li>
<p>You have installed Docker Container Engine or Podman version 3.4.7 or higher.</p>
</li>
<li>
<p>You have access to an available image registry, such as the OpenShift Container Registry.</p>
</li>
<li>
<p>If you are using <a href="https://quay.io/">Quay.io</a> as the image registry, you must ensure that either the repository is not private, or that you have followed the OpenShift Container Platform documentation on <a href="https://docs.openshift.com/container-platform/latest/openshift_images/managing_images/using-image-pull-secrets.html#images-allow-pods-to-reference-images-from-secure-registries_using-image-pull-secrets">Allowing pods to reference images from other secured registries</a>.</p>
</li>
<li>
<p>If you are using the OpenShift Container Registry, a cluster administrator must <a href="https://docs.openshift.com/container-platform/latest/registry/securing-exposing-registry.html#securing-exposing-registry">expose the registry</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="serverless-functions-podman_configuring-serverless-functions">Setting up Podman</h3>
<div class="paragraph">
<p>To use advanced container management features, you might want to use Podman with OpenShift Serverless Functions. To do so, you need to start the Podman service and configure the Knative (<code>kn</code>) CLI to connect to it.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Start the Podman service that serves the Docker API on a UNIX socket at <code>${XDG_RUNTIME_DIR}/podman/podman.sock</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ systemctl start --user podman.socket</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>On most systems, this socket is located at <code>/run/user/$(id -u)/podman/podman.sock</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Establish the environment variable that is used to build a function:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ export DOCKER_HOST="unix://${XDG_RUNTIME_DIR}/podman/podman.sock"</code></pre>
</div>
</div>
</li>
<li>
<p>Run the build command inside your function project directory with the <code>-v</code> flag to see verbose output. You should see a connection to your local UNIX socket:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ kn func build -v</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="serverless-functions-podman-macos_configuring-serverless-functions">Setting up Podman on macOS</h3>
<div class="paragraph">
<p>To use advanced container management features, you might want to use Podman with OpenShift Serverless Functions. To do so on macOS, you need to start the Podman machine and configure the Knative (<code>kn</code>) CLI to connect to it.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create the Podman machine:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ podman machine init --memory=8192 --cpus=2 --disk-size=20</code></pre>
</div>
</div>
</li>
<li>
<p>Start the Podman machine, which serves the Docker API on a UNIX socket:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ podman machine start
Starting machine "podman-machine-default"
Waiting for VM ...
Mounting volume... /Users/myuser:/Users/user

[...truncated output...]

You can still connect Docker API clients by setting DOCKER_HOST using the
following command in your terminal session:

	export DOCKER_HOST='unix:///Users/myuser/.local/share/containers/podman/machine/podman-machine-default/podman.sock'

Machine "podman-machine-default" started successfully</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>On most macOS systems, this socket is located at <code>/Users/myuser/.local/share/containers/podman/machine/podman-machine-default/podman.sock</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Establish the environment variable that is used to build a function:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ export DOCKER_HOST='unix:///Users/myuser/.local/share/containers/podman/machine/podman-machine-default/podman.sock'</code></pre>
</div>
</div>
</li>
<li>
<p>Run the build command inside your function project directory with the <code>-v</code> flag to see verbose output. You should see a connection to your local UNIX socket:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ kn func build -v</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="next-steps_configuring-serverless-functions">Next steps</h3>
<div class="ulist">
<ul>
<li>
<p>For more information about Docker Container Engine or Podman, see <a href="https://docs.openshift.com/container-platform/latest/architecture/understanding-development.html#container-build-tool-options">Container build tool options</a>.</p>
</li>
<li>
<p>See <a href="https://access.redhat.com/documentation/en-us/red_hat_openshift_serverless/1.29/html-single/functions/#serverless-functions-getting-started">Getting started with functions</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="serverless-upgrades">Serverless upgrades</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenShift Serverless should be upgraded without skipping release versions. This section shows how to resolve problems with upgrading.</p>
</div>
<div class="sect2">
<h3 id="serverless-resolving-operator-upgrade-failure_serverless-upgrades">Resolving an OpenShift Serverless Operator upgrade failure</h3>
<div class="paragraph">
<p>You might encounter an error when upgrading OpenShift Serverless Operator, for example, when performing manual uninstalls and reinstalls. If you encounter an error, you must manually reinstall OpenShift Serverless Operator.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Identify the version of OpenShift Serverless Operator that was installed originally by searching in the OpenShift Serverless Release Notes.</p>
<div class="paragraph">
<p>For example, the error message during attempted upgrade might contain the following string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code>The installed KnativeServing version is v1.5.0.</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the KnativeServing <code>MAJOR.MINOR</code> version is <code>1.5</code>, which is covered in the release notes for OpenShift Serverless 1.26: <em>OpenShift Serverless now uses Knative Serving 1.5</em>.</p>
</div>
</li>
<li>
<p>Uninstall OpenShift Serverless Operator and all of its install plans.</p>
</li>
<li>
<p>Manually install the version of OpenShift Serverless Operator that you discovered in the first step. To install, first create a <code>serverless-subscription.yaml</code> file as shown in the following example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-yaml" data-lang="yaml">apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: serverless-operator
  namespace: openshift-serverless
spec:
  channel: stable
  name: serverless-operator
  source: redhat-operators
  sourceNamespace: openshift-marketplace
  installPlanApproval: Manual
  startingCSV: serverless-operator.v1.26.0</code></pre>
</div>
</div>
</li>
<li>
<p>Then, install the subscription by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">$ oc apply -f serverless-subscription.yaml</code></pre>
</div>
</div>
</li>
<li>
<p>Upgrade by manually approving the upgrade install plans as they appear.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_openshift_serverless/1.29/html-single/about_serverless/#serverless-tech-preview-features_serverless-release-notes">OpenShift Serverless Release Notes</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_openshift_serverless/1.29/html-single/removing_serverless/#olm-deleting-operators-from-a-cluster-using-web-console_removing-serverless-operator">Deleting Operators from a cluster using the web console</a></p>
</li>
<li>
<p><a href="#serverless-install-web-console_install-serverless-operator">Installing the OpenShift Serverless Operator from the web console</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-06-25 13:31:34 UTC
</div>
</div>
</body>
</html>